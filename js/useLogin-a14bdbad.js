var Ft=Object.defineProperty;var zt=(e,t,i)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var me=(e,t,i)=>(zt(e,typeof t!="symbol"?t+"":t,i),i);import{e as C,r as S,aR as Ee,A as Re,$ as w,w as G,aA as st,P as re,X as ot,_ as Gt,aS as Wt,W as Ht,aT as jt,a6 as Zt,aU as Kt,aV as $e,aW as Yt,aX as Qt,Y as ve,B as Xt,O as Te}from"./vendor-749afd36.js";import{g as Jt}from"./betHistory-3f3446ef.js";import{i as ei,l as ti,e as ii,f as si,c as oi}from"./useLayout-e9fcd4ad.js";import{b as te,S as ie,j as ae,ab as ne,a9 as V,aa as he,a as K,c as le,O as rt,ac as J,i as be,N as ri,ad as ee,ae as ni,af as ai,ag as hi,ah as Fe,e as Z,ai as ye,aj as ze,o as li,a1 as ci,ak as Ge,al as ui,am as fi}from"./index-42c4f717.js";import{c as nt,a as at,b as v,d as di,u as ht,e as pi}from"./index.esm-aef9a917.js";import{g as mi}from"./financial-c6c4a02d.js";const P=te(),{t:I}=ae(),Ie=C(()=>P.isLogin),lt=C(()=>P.idleTimeOut==-1?99999999999:P.idleTimeOut),ct=ie.THEME_LAYOUT_CODE,tr=e=>{const t=C(()=>P.loginthirdTime),i=S(0),{idle:s}=Ee(lt.value*1e3),{start:o,stop:r}=Re(async()=>{w.get("idleTime").length==0||w.get("idleOut").length>0||t.value!=""&&w.get("idleTime").length>0&&(w.hide("idleTime"),w.show({component:e,bind:{name:"idleOut",modalType:"alert",title:I("InactiveTimeoutService.Title"),modalIconType:"none",bodyText:I("InactiveTimeoutService.Log_Out_Auto"),showOkBtn:!1}}),await P.logout())},ei);G(()=>ne.currentRoute.value.name,()=>{i.value=0}),G(()=>t.value,()=>{let n=new Date(t.value),a=new Date;const l=setInterval(async()=>{if(i.value<6&&t.value!=""){const c=await Jt();c.ErrorCode===2e4&&(a=new Date(c?.Data),a<=n?i.value=i.value+1:(n=a,i.value=0))}else clearInterval(l)},ti)}),G(()=>i.value>=6&&s.value,n=>{i.value=0,w.hide("idleReloadTime"),!(!Ie.value||!n||w.get("idleTime").length>0)&&(w.show({component:e,bind:{name:"idleTime",modalType:"confirm",title:I("InactiveTimeoutService.Title"),modalIconType:"alarm",okText:I("InactiveTimeoutService.Continue_Use"),cancelText:I("InactiveTimeoutService.Log_Out_Directly"),bodyText:I(ct!=="b02"?"InactiveTimeoutService.Idle_Too_Long":"InactiveTimeoutService.Idle_Too_Long2"),time:60},on:{clickOutside:()=>{r(),P.setLoginthirdTime(new Date().toISOString())},confirm:a=>{a(),r(),P.setLoginthirdTime(new Date().toISOString())},cancel:async a=>{await P.logout(),a(),r(),ne.push("/")}}}),o())})},ir=e=>{const{idle:t}=Ee(lt.value*1e3),{start:i,stop:s}=Re(async()=>{w.get("idleTime").length==0&&w.get("idleOut").length>0||P.loginthirdTime==""&&w.get("idleTime").length>0&&(w.hide("idleTime"),w.show({component:e,bind:{name:"idleOut",modalType:"alert",title:I("InactiveTimeoutService.Title"),modalIconType:"none",bodyText:I("InactiveTimeoutService.Log_Out_Auto"),showOkBtn:!1}}),await P.logout())},ii);G(()=>t.value&&P.loginthirdTime=="",o=>{w.hide("idleReloadTime"),!(!Ie.value||!o||w.get("idleTime").length>0)&&(w.show({component:e,bind:{name:"idleTime",modalType:"confirm",title:I("InactiveTimeoutService.Title"),modalIconType:"alarm",okText:I("InactiveTimeoutService.Continue_Use"),cancelText:I("InactiveTimeoutService.Log_Out_Directly"),bodyText:I(ct!=="b02"?"InactiveTimeoutService.Idle_Too_Long":"InactiveTimeoutService.Idle_Too_Long2"),time:60},on:{clickOutside:()=>{s()},confirm:r=>{s(),r()},cancel:async r=>{await P.logout(),s(),r()}}}),i())})},sr=e=>{const{idle:t}=Ee(si);G(()=>t.value,i=>{!Ie.value||!i||w.get("idleReloadTime").length>0||w.get("idleTime").length>0||w.show({component:e,bind:{name:"idleReloadTime",modalType:"alert",title:I("InactiveTimeoutService.Title"),modalIconType:"none",okText:I("Common.Confirm"),bodyText:I("InactiveTimeoutService.Ilde_Too_Long_Refresh")},on:{confirm:s=>{window.location.reload(),s()}}})})};var Ae={exports:{}};const ut=e=>typeof e=="object"&&e!==null,ft=Symbol("skip"),We=e=>ut(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),we=(e,t,i,s=new WeakMap)=>{if(i={deep:!1,target:{},...i},s.has(e))return s.get(e);s.set(e,i.target);const{target:o}=i;delete i.target;const r=n=>n.map(a=>We(a)?we(a,t,i,s):a);if(Array.isArray(e))return r(e);for(const[n,a]of Object.entries(e)){const l=t(n,a,e);if(l===ft)continue;let[c,f,{shouldRecurse:m=!0}={}]=l;c!=="__proto__"&&(i.deep&&m&&We(f)&&(f=Array.isArray(f)?r(f):we(f,t,i,s)),o[c]=f)}return o};Ae.exports=(e,t,i)=>{if(!ut(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return we(e,t,i)};Ae.exports.mapObjectSkip=ft;var vi=Ae.exports;const He=st(vi),gi=/[\p{Lu}]/u,Ti=/[\p{Ll}]/u,je=/^[\p{Lu}](?![\p{Lu}])/gu,dt=/([\p{Alpha}\p{N}_]|$)/u,Ce=/[_.\- ]+/,bi=new RegExp("^"+Ce.source),Ze=new RegExp(Ce.source+dt.source,"gu"),Ke=new RegExp("\\d+"+dt.source,"gu"),yi=(e,t,i,s)=>{let o=!1,r=!1,n=!1,a=!1;for(let l=0;l<e.length;l++){const c=e[l];a=l>2?e[l-3]==="-":!0,o&&gi.test(c)?(e=e.slice(0,l)+"-"+e.slice(l),o=!1,n=r,r=!0,l++):r&&n&&Ti.test(c)&&(!a||s)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),n=r,r=!1,o=!0):(o=t(c)===c&&i(c)!==c,n=r,r=i(c)===c&&t(c)!==c)}return e},wi=(e,t)=>(je.lastIndex=0,e.replace(je,i=>t(i))),Si=(e,t)=>(Ze.lastIndex=0,Ke.lastIndex=0,e.replace(Ze,(i,s)=>t(s)).replace(Ke,i=>t(i)));function Ei(e,t){if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(r=>r.trim()).filter(r=>r.length).join("-"):e=e.trim(),e.length===0)return"";const i=t.locale===!1?r=>r.toLowerCase():r=>r.toLocaleLowerCase(t.locale),s=t.locale===!1?r=>r.toUpperCase():r=>r.toLocaleUpperCase(t.locale);return e.length===1?Ce.test(e)?"":t.pascalCase?s(e):i(e):(e!==i(e)&&(e=yi(e,i,s,t.preserveConsecutiveUppercase)),e=e.replace(bi,""),e=t.preserveConsecutiveUppercase?wi(e,i):i(e),t.pascalCase&&(e=s(e.charAt(0))+e.slice(1)),Si(e,s))}class Ri extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(const[i,s]of t)this.onEviction(i,s.value)}_deleteIfExpired(t,i){return typeof i.expiry=="number"&&i.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,i.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,i){if(this._deleteIfExpired(t,i)===!1)return i.value}_getItemValue(t,i){return i.expiry?this._getOrDeleteIfExpired(t,i):i.value}_peek(t,i){const s=i.get(t);return this._getItemValue(t,s)}_set(t,i){this.cache.set(t,i),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,i){this.oldCache.delete(t),this._set(t,i)}*_entriesAscending(){for(const t of this.oldCache){const[i,s]=t;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield t)}for(const t of this.cache){const[i,s]=t;this._deleteIfExpired(i,s)===!1&&(yield t)}}get(t){if(this.cache.has(t)){const i=this.cache.get(t);return this._getItemValue(t,i)}if(this.oldCache.has(t)){const i=this.oldCache.get(t);if(this._deleteIfExpired(t,i)===!1)return this._moveToRecent(t,i),i.value}}set(t,i,{maxAge:s=this.maxAge}={}){const o=typeof s=="number"&&s!==Number.POSITIVE_INFINITY?Date.now()+s:void 0;this.cache.has(t)?this.cache.set(t,{value:i,expiry:o}):this._set(t,{value:i,expiry:o})}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){const i=this.cache.delete(t);return i&&this._size--,this.oldCache.delete(t)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const i=[...this._entriesAscending()],s=i.length-t;s<0?(this.cache=new Map(i),this.oldCache=new Map,this._size=i.length):(s>0&&this._emitEvictions(i.slice(0,s)),this.oldCache=new Map(i.slice(s)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[i,s]=t;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}for(const t of this.oldCache){const[i,s]=t;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesDescending(){let t=[...this.cache];for(let i=t.length-1;i>=0;--i){const s=t[i],[o,r]=s;this._deleteIfExpired(o,r)===!1&&(yield[o,r.value])}t=[...this.oldCache];for(let i=t.length-1;i>=0;--i){const s=t[i],[o,r]=s;this.cache.has(o)||this._deleteIfExpired(o,r)===!1&&(yield[o,r.value])}}*entriesAscending(){for(const[t,i]of this._entriesAscending())yield[t,i.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const i of this.oldCache.keys())this.cache.has(i)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,i=this){for(const[s,o]of this.entriesAscending())t.call(i,o,s,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const Ii=(e,t)=>e.some(i=>typeof i=="string"?i===t:(i.lastIndex=0,i.test(t))),ge=new Ri({maxSize:1e5}),Ye=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),Qe=(e,t)=>{if(!Ye(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:i,pascalCase:s,stopPaths:o,deep:r}=t,n=new Set(o),a=l=>(c,f)=>{if(r&&Ye(f)){const m=l===void 0?c:`${l}.${c}`;n.has(m)||(f=He(f,a(m)))}if(!(i&&Ii(i,c))){const m=s?`${c}_`:c;if(ge.has(m))c=ge.get(m);else{const g=Ei(c,{pascalCase:s,locale:!1});c.length<100&&ge.set(m,g),c=g}}return[c,f]};return He(e,a(void 0))};function pt(e,t){return Array.isArray(e)?Object.keys(e).map(i=>Qe(e[i],t)):Qe(e,t)}var Xe=typeof self>"u"?{}:self.navigator||{},z;function h(e,t,i){e!=null&&(typeof e=="number"?this.fromNumber(e,t,i):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}function p(){return new h(null)}function Ai(e,t,i,s,o,r){for(;--r>=0;){var n=t*this[e++]+i[s]+o;o=Math.floor(n/67108864),i[s++]=n&67108863}return o}function Ci(e,t,i,s,o,r){for(var n=t&32767,a=t>>15;--r>=0;){var l=this[e]&32767,c=this[e++]>>15,f=a*l+c*n;l=n*l+((f&32767)<<15)+i[s]+(o&1073741823),o=(l>>>30)+(f>>>15)+a*c+(o>>>30),i[s++]=l&1073741823}return o}function Di(e,t,i,s,o,r){for(var n=t&16383,a=t>>14;--r>=0;){var l=this[e]&16383,c=this[e++]>>14,f=a*l+c*n;l=n*l+((f&16383)<<14)+i[s]+o,o=(l>>28)+(f>>14)+a*c,i[s++]=l&268435455}return o}Xe.appName=="Microsoft Internet Explorer"?(h.prototype.am=Ci,z=30):Xe.appName!="Netscape"?(h.prototype.am=Ai,z=26):(h.prototype.am=Di,z=28);h.prototype.DB=z;h.prototype.DM=(1<<z)-1;h.prototype.DV=1<<z;var De=52;h.prototype.FV=Math.pow(2,De);h.prototype.F1=De-z;h.prototype.F2=2*z-De;var Mi="0123456789abcdefghijklmnopqrstuvwxyz",ce=new Array,Y,x;Y="0".charCodeAt(0);for(x=0;x<=9;++x)ce[Y++]=x;Y="a".charCodeAt(0);for(x=10;x<36;++x)ce[Y++]=x;Y="A".charCodeAt(0);for(x=10;x<36;++x)ce[Y++]=x;function Je(e){return Mi.charAt(e)}function mt(e,t){var i=ce[e.charCodeAt(t)];return i??-1}function ki(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function _i(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function F(e){var t=p();return t.fromInt(e),t}function Bi(e,t){var i;if(t==16)i=4;else if(t==8)i=3;else if(t==256)i=8;else if(t==2)i=1;else if(t==32)i=5;else if(t==4)i=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var s=e.length,o=!1,r=0;--s>=0;){var n=i==8?e[s]&255:mt(e,s);if(n<0){e.charAt(s)=="-"&&(o=!0);continue}o=!1,r==0?this[this.t++]=n:r+i>this.DB?(this[this.t-1]|=(n&(1<<this.DB-r)-1)<<r,this[this.t++]=n>>this.DB-r):this[this.t-1]|=n<<r,r+=i,r>=this.DB&&(r-=this.DB)}i==8&&e[0]&128&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),o&&h.ZERO.subTo(this,this)}function Oi(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function Pi(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var i=(1<<t)-1,s,o=!1,r="",n=this.t,a=this.DB-n*this.DB%t;if(n-- >0)for(a<this.DB&&(s=this[n]>>a)>0&&(o=!0,r=Je(s));n>=0;)a<t?(s=(this[n]&(1<<a)-1)<<t-a,s|=this[--n]>>(a+=this.DB-t)):(s=this[n]>>(a-=t)&i,a<=0&&(a+=this.DB,--n)),s>0&&(o=!0),o&&(r+=Je(s));return o?r:"0"}function xi(){var e=p();return h.ZERO.subTo(this,e),e}function Li(){return this.s<0?this.negate():this}function qi(e){var t=this.s-e.s;if(t!=0)return t;var i=this.t;if(t=i-e.t,t!=0)return this.s<0?-t:t;for(;--i>=0;)if((t=this[i]-e[i])!=0)return t;return 0}function ue(e){var t=1,i;return(i=e>>>16)!=0&&(e=i,t+=16),(i=e>>8)!=0&&(e=i,t+=8),(i=e>>4)!=0&&(e=i,t+=4),(i=e>>2)!=0&&(e=i,t+=2),(i=e>>1)!=0&&(e=i,t+=1),t}function Ni(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)}function Vi(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function Ui(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function $i(e,t){var i=e%this.DB,s=this.DB-i,o=(1<<s)-1,r=Math.floor(e/this.DB),n=this.s<<i&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+r+1]=this[a]>>s|n,n=(this[a]&o)<<i;for(a=r-1;a>=0;--a)t[a]=0;t[r]=n,t.t=this.t+r+1,t.s=this.s,t.clamp()}function Fi(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t){t.t=0;return}var s=e%this.DB,o=this.DB-s,r=(1<<s)-1;t[0]=this[i]>>s;for(var n=i+1;n<this.t;++n)t[n-i-1]|=(this[n]&r)<<o,t[n-i]=this[n]>>s;s>0&&(t[this.t-i-1]|=(this.s&r)<<o),t.t=this.t-i,t.clamp()}function zi(e,t){for(var i=0,s=0,o=Math.min(e.t,this.t);i<o;)s+=this[i]-e[i],t[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){for(s-=e.s;i<this.t;)s+=this[i],t[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{for(s+=this.s;i<e.t;)s-=e[i],t[i++]=s&this.DM,s>>=this.DB;s-=e.s}t.s=s<0?-1:0,s<-1?t[i++]=this.DV+s:s>0&&(t[i++]=s),t.t=i,t.clamp()}function Gi(e,t){var i=this.abs(),s=e.abs(),o=i.t;for(t.t=o+s.t;--o>=0;)t[o]=0;for(o=0;o<s.t;++o)t[o+i.t]=i.am(0,s[o],t,o,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&h.ZERO.subTo(t,t)}function Wi(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var s=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,s,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function Hi(e,t,i){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t){t?.fromInt(0),i!=null&&this.copyTo(i);return}i==null&&(i=p());var r=p(),n=this.s,a=e.s,l=this.DB-ue(s[s.t-1]);l>0?(s.lShiftTo(l,r),o.lShiftTo(l,i)):(s.copyTo(r),o.copyTo(i));var c=r.t,f=r[c-1];if(f!=0){var m=f*(1<<this.F1)+(c>1?r[c-2]>>this.F2:0),g=this.FV/m,b=(1<<this.F1)/m,y=1<<this.F2,T=i.t,A=T-c,_=t??p();for(r.dlShiftTo(A,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),h.ONE.dlShiftTo(c,_),_.subTo(r,r);r.t<c;)r[r.t++]=0;for(;--A>=0;){var j=i[--T]==f?this.DM:Math.floor(i[T]*g+(i[T-1]+y)*b);if((i[T]+=r.am(0,j,i,A,0,c))<j)for(r.dlShiftTo(A,_),i.subTo(_,i);i[T]<--j;)i.subTo(_,i)}t!=null&&(i.drShiftTo(c,t),n!=a&&h.ZERO.subTo(t,t)),i.t=c,i.clamp(),l>0&&i.rShiftTo(l,i),n<0&&h.ZERO.subTo(i,i)}}}function ji(e){var t=p();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(h.ZERO)>0&&e.subTo(t,t),t}function W(e){this.m=e}function Zi(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Ki(e){return e}function Yi(e){e.divRemTo(this.m,null,e)}function Qi(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Xi(e,t){e.squareTo(t),this.reduce(t)}W.prototype.convert=Zi;W.prototype.revert=Ki;W.prototype.reduce=Yi;W.prototype.mulTo=Qi;W.prototype.sqrTo=Xi;function Ji(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function H(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function es(e){var t=p();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(h.ZERO)>0&&this.m.subTo(t,t),t}function ts(e){var t=p();return e.copyTo(t),this.reduce(t),t}function is(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=e[t]&32767,s=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(i=t+this.m.t,e[i]+=this.m.am(0,s,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function ss(e,t){e.squareTo(t),this.reduce(t)}function os(e,t,i){e.multiplyTo(t,i),this.reduce(i)}H.prototype.convert=es;H.prototype.revert=ts;H.prototype.reduce=is;H.prototype.mulTo=os;H.prototype.sqrTo=ss;function rs(){return(this.t>0?this[0]&1:this.s)==0}function ns(e,t){if(e>4294967295||e<1)return h.ONE;var i=p(),s=p(),o=t.convert(this),r=ue(e)-1;for(o.copyTo(i);--r>=0;)if(t.sqrTo(i,s),(e&1<<r)>0)t.mulTo(s,o,i);else{var n=i;i=s,s=n}return t.revert(i)}function as(e,t){var i;return e<256||t.isEven()?i=new W(t):i=new H(t),this.exp(e,i)}h.prototype.copyTo=ki;h.prototype.fromInt=_i;h.prototype.fromString=Bi;h.prototype.clamp=Oi;h.prototype.dlShiftTo=Vi;h.prototype.drShiftTo=Ui;h.prototype.lShiftTo=$i;h.prototype.rShiftTo=Fi;h.prototype.subTo=zi;h.prototype.multiplyTo=Gi;h.prototype.squareTo=Wi;h.prototype.divRemTo=Hi;h.prototype.invDigit=Ji;h.prototype.isEven=rs;h.prototype.exp=ns;h.prototype.toString=Pi;h.prototype.negate=xi;h.prototype.abs=Li;h.prototype.compareTo=qi;h.prototype.bitLength=Ni;h.prototype.mod=ji;h.prototype.modPowInt=as;h.ZERO=F(0);h.ONE=F(1);function hs(){var e=p();return this.copyTo(e),e}function ls(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function cs(){return this.t==0?this.s:this[0]<<24>>24}function us(){return this.t==0?this.s:this[0]<<16>>16}function fs(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ds(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function ps(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),s=F(i),o=p(),r=p(),n="";for(this.divRemTo(s,o,r);o.signum()>0;)n=(i+r.intValue()).toString(e).substr(1)+n,o.divRemTo(s,o,r);return r.intValue().toString(e)+n}function ms(e,t){this.fromInt(0),t==null&&(t=10);for(var i=this.chunkSize(t),s=Math.pow(t,i),o=!1,r=0,n=0,a=0;a<e.length;++a){var l=mt(e,a);if(l<0){e.charAt(a)=="-"&&this.signum()==0&&(o=!0);continue}n=t*n+l,++r>=i&&(this.dMultiply(s),this.dAddOffset(n,0),r=0,n=0)}r>0&&(this.dMultiply(Math.pow(t,r)),this.dAddOffset(n,0)),o&&h.ZERO.subTo(this,this)}function vs(e,t,i){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(h.ONE.shiftLeft(e-1),Me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(h.ONE.shiftLeft(e-1),this);else{var s=new Array,o=e&7;s.length=(e>>3)+1,t.nextBytes(s),o>0?s[0]&=(1<<o)-1:s[0]=0,this.fromString(s,256)}}function gs(){var e=this.t,t=new Array;t[0]=this.s;var i=this.DB-e*this.DB%8,s,o=0;if(e-- >0)for(i<this.DB&&(s=this[e]>>i)!=(this.s&this.DM)>>i&&(t[o++]=s|this.s<<this.DB-i);e>=0;)i<8?(s=(this[e]&(1<<i)-1)<<8-i,s|=this[--e]>>(i+=this.DB-8)):(s=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),s&128&&(s|=-256),o==0&&(this.s&128)!=(s&128)&&++o,(o>0||s!=this.s)&&(t[o++]=s);return t}function Ts(e){return this.compareTo(e)==0}function bs(e){return this.compareTo(e)<0?this:e}function ys(e){return this.compareTo(e)>0?this:e}function ws(e,t,i){var s,o,r=Math.min(e.t,this.t);for(s=0;s<r;++s)i[s]=t(this[s],e[s]);if(e.t<this.t){for(o=e.s&this.DM,s=r;s<this.t;++s)i[s]=t(this[s],o);i.t=this.t}else{for(o=this.s&this.DM,s=r;s<e.t;++s)i[s]=t(o,e[s]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function Ss(e,t){return e&t}function Es(e){var t=p();return this.bitwiseTo(e,Ss,t),t}function Me(e,t){return e|t}function Rs(e){var t=p();return this.bitwiseTo(e,Me,t),t}function vt(e,t){return e^t}function Is(e){var t=p();return this.bitwiseTo(e,vt,t),t}function gt(e,t){return e&~t}function As(e){var t=p();return this.bitwiseTo(e,gt,t),t}function Cs(){for(var e=p(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function Ds(e){var t=p();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Ms(e){var t=p();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function ks(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function _s(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+ks(this[e]);return this.s<0?this.t*this.DB:-1}function Bs(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function Os(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=Bs(this[i]^t);return e}function Ps(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function xs(e,t){var i=h.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i}function Ls(e){return this.changeBit(e,Me)}function qs(e){return this.changeBit(e,gt)}function Ns(e){return this.changeBit(e,vt)}function Vs(e,t){for(var i=0,s=0,o=Math.min(e.t,this.t);i<o;)s+=this[i]+e[i],t[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){for(s+=e.s;i<this.t;)s+=this[i],t[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{for(s+=this.s;i<e.t;)s+=e[i],t[i++]=s&this.DM,s>>=this.DB;s+=e.s}t.s=s<0?-1:0,s>0?t[i++]=s:s<-1&&(t[i++]=this.DV+s),t.t=i,t.clamp()}function Us(e){var t=p();return this.addTo(e,t),t}function $s(e){var t=p();return this.subTo(e,t),t}function Fs(e){var t=p();return this.multiplyTo(e,t),t}function zs(){var e=p();return this.squareTo(e),e}function Gs(e){var t=p();return this.divRemTo(e,t,null),t}function Ws(e){var t=p();return this.divRemTo(e,null,t),t}function Hs(e){var t=p(),i=p();return this.divRemTo(e,t,i),new Array(t,i)}function js(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Zs(e,t){if(e!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function se(){}function Tt(e){return e}function Ks(e,t,i){e.multiplyTo(t,i)}function Ys(e,t){e.squareTo(t)}se.prototype.convert=Tt;se.prototype.revert=Tt;se.prototype.mulTo=Ks;se.prototype.sqrTo=Ys;function Qs(e){return this.exp(e,new se)}function Xs(e,t,i){var s=Math.min(this.t+e.t,t);for(i.s=0,i.t=s;s>0;)i[--s]=0;var o;for(o=i.t-this.t;s<o;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(o=Math.min(e.t,t);s<o;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()}function Js(e,t,i){--t;var s=i.t=this.t+e.t-t;for(i.s=0;--s>=0;)i[s]=0;for(s=Math.max(t-this.t,0);s<e.t;++s)i[this.t+s-t]=this.am(t-s,e[s],i,0,0,this.t+s-t);i.clamp(),i.drShiftTo(1,i)}function Q(e){this.r2=p(),this.q3=p(),h.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function eo(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=p();return e.copyTo(t),this.reduce(t),t}function to(e){return e}function io(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function so(e,t){e.squareTo(t),this.reduce(t)}function oo(e,t,i){e.multiplyTo(t,i),this.reduce(i)}Q.prototype.convert=eo;Q.prototype.revert=to;Q.prototype.reduce=io;Q.prototype.mulTo=oo;Q.prototype.sqrTo=so;function ro(e,t){var i=e.bitLength(),s,o=F(1),r;if(i<=0)return o;i<18?s=1:i<48?s=3:i<144?s=4:i<768?s=5:s=6,i<8?r=new W(t):t.isEven()?r=new Q(t):r=new H(t);var n=new Array,a=3,l=s-1,c=(1<<s)-1;if(n[1]=r.convert(this),s>1){var f=p();for(r.sqrTo(n[1],f);a<=c;)n[a]=p(),r.mulTo(f,n[a-2],n[a]),a+=2}var m=e.t-1,g,b=!0,y=p(),T;for(i=ue(e[m])-1;m>=0;){for(i>=l?g=e[m]>>i-l&c:(g=(e[m]&(1<<i+1)-1)<<l-i,m>0&&(g|=e[m-1]>>this.DB+i-l)),a=s;!(g&1);)g>>=1,--a;if((i-=a)<0&&(i+=this.DB,--m),b)n[g].copyTo(o),b=!1;else{for(;a>1;)r.sqrTo(o,y),r.sqrTo(y,o),a-=2;a>0?r.sqrTo(o,y):(T=o,o=y,y=T),r.mulTo(y,n[g],o)}for(;m>=0&&!(e[m]&1<<i);)r.sqrTo(o,y),T=o,o=y,y=T,--i<0&&(i=this.DB-1,--m)}return r.revert(o)}function no(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var s=t;t=i,i=s}var o=t.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return t;for(o<r&&(r=o),r>0&&(t.rShiftTo(r,t),i.rShiftTo(r,i));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=i.getLowestSetBit())>0&&i.rShiftTo(o,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return r>0&&i.lShiftTo(r,i),i}function ao(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(t==0)i=this[0]%e;else for(var s=this.t-1;s>=0;--s)i=(t*i+this[s])%e;return i}function ho(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return h.ZERO;for(var i=e.clone(),s=this.clone(),o=F(1),r=F(0),n=F(0),a=F(1);i.signum()!=0;){for(;i.isEven();)i.rShiftTo(1,i),t?((!o.isEven()||!r.isEven())&&(o.addTo(this,o),r.subTo(e,r)),o.rShiftTo(1,o)):r.isEven()||r.subTo(e,r),r.rShiftTo(1,r);for(;s.isEven();)s.rShiftTo(1,s),t?((!n.isEven()||!a.isEven())&&(n.addTo(this,n),a.subTo(e,a)),n.rShiftTo(1,n)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);i.compareTo(s)>=0?(i.subTo(s,i),t&&o.subTo(n,o),r.subTo(a,r)):(s.subTo(i,s),t&&n.subTo(o,n),a.subTo(r,a))}if(s.compareTo(h.ONE)!=0)return h.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lo=(1<<26)/k[k.length-1];function co(e){var t,i=this.abs();if(i.t==1&&i[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(i[0]==k[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<k.length;){for(var s=k[t],o=t+1;o<k.length&&s<lo;)s*=k[o++];for(s=i.modInt(s);t<o;)if(s%k[t++]==0)return!1}return i.millerRabin(e)}function uo(e){var t=this.subtract(h.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var s=t.shiftRight(i);e=e+1>>1,e>k.length&&(e=k.length);for(var o=p(),r=0;r<e;++r){o.fromInt(k[Math.floor(Math.random()*k.length)]);var n=o.modPow(s,this);if(n.compareTo(h.ONE)!=0&&n.compareTo(t)!=0){for(var a=1;a++<i&&n.compareTo(t)!=0;)if(n=n.modPowInt(2,this),n.compareTo(h.ONE)==0)return!1;if(n.compareTo(t)!=0)return!1}}return!0}h.prototype.chunkSize=fs;h.prototype.toRadix=ps;h.prototype.fromRadix=ms;h.prototype.fromNumber=vs;h.prototype.bitwiseTo=ws;h.prototype.changeBit=xs;h.prototype.addTo=Vs;h.prototype.dMultiply=js;h.prototype.dAddOffset=Zs;h.prototype.multiplyLowerTo=Xs;h.prototype.multiplyUpperTo=Js;h.prototype.modInt=ao;h.prototype.millerRabin=uo;h.prototype.clone=hs;h.prototype.intValue=ls;h.prototype.byteValue=cs;h.prototype.shortValue=us;h.prototype.signum=ds;h.prototype.toByteArray=gs;h.prototype.equals=Ts;h.prototype.min=bs;h.prototype.max=ys;h.prototype.and=Es;h.prototype.or=Rs;h.prototype.xor=Is;h.prototype.andNot=As;h.prototype.not=Cs;h.prototype.shiftLeft=Ds;h.prototype.shiftRight=Ms;h.prototype.getLowestSetBit=_s;h.prototype.bitCount=Os;h.prototype.testBit=Ps;h.prototype.setBit=Ls;h.prototype.clearBit=qs;h.prototype.flipBit=Ns;h.prototype.add=Us;h.prototype.subtract=$s;h.prototype.multiply=Fs;h.prototype.divide=Gs;h.prototype.remainder=Ws;h.prototype.divideAndRemainder=Hs;h.prototype.modPow=ro;h.prototype.modInverse=ho;h.prototype.pow=Qs;h.prototype.gcd=no;h.prototype.isProbablePrime=co;h.prototype.square=zs;var fo=h;function ke(){this.i=0,this.j=0,this.S=new Array}function po(e){var t,i,s;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)i=i+this.S[t]+e[t%e.length]&255,s=this.S[t],this.S[t]=this.S[i],this.S[i]=s;this.i=0,this.j=0}function mo(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}ke.prototype.init=po;ke.prototype.next=mo;function vo(){return new ke}var Se=256,oe,B,E;function go(e){B[E++]^=e&255,B[E++]^=e>>8&255,B[E++]^=e>>16&255,B[E++]^=e>>24&255,E>=Se&&(E-=Se)}function bt(){go(new Date().getTime())}if(B==null){B=new Array,E=0;var L;if(typeof window<"u"&&window.crypto){if(window.crypto.getRandomValues){var et=new Uint8Array(32);for(window.crypto.getRandomValues(et),L=0;L<32;++L)B[E++]=et[L]}else if(navigator.appName=="Netscape"&&parseInt(navigator.appVersion)<5){var tt=window.crypto.random(32);for(L=0;L<tt.length;++L)B[E++]=tt.charCodeAt(L)&255}}for(;E<Se;)L=Math.floor(65536*Math.random()),B[E++]=L>>>8,B[E++]=L&255;E=0,bt()}function To(){if(oe==null){for(bt(),oe=vo(),oe.init(B),E=0;E<B.length;++E)B[E]=0;E=0}return oe.next()}function bo(e){var t;for(t=0;t<e.length;++t)e[t]=To()}function yt(){}yt.prototype.nextBytes=bo;var yo=yt,O=fo,wt=yo;function q(e,t){return new O(e,t)}function wo(e,t){if(t<e.length+11)throw new Error("Message too long for RSA");for(var i=new Array,s=e.length-1;s>=0&&t>0;){var o=e.charCodeAt(s--);o<128?i[--t]=o:o>127&&o<2048?(i[--t]=o&63|128,i[--t]=o>>6|192):(i[--t]=o&63|128,i[--t]=o>>6&63|128,i[--t]=o>>12|224)}i[--t]=0;for(var r=new wt,n=new Array;t>2;){for(n[0]=0;n[0]==0;)r.nextBytes(n);i[--t]=n[0]}return i[--t]=2,i[--t]=0,new O(i)}function U(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function So(e,t){if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=q(e,16),this.e=parseInt(t,16);else throw new Error("Invalid RSA public key")}function Eo(e){return e.modPowInt(this.e,this.n)}function Ro(e){var t=wo(e,this.n.bitLength()+7>>3);if(t==null)return null;var i=this.doPublic(t);if(i==null)return null;var s=i.toString(16);return s.length&1?"0"+s:s}U.prototype.doPublic=Eo;U.prototype.setPublic=So;U.prototype.encrypt=Ro;function Io(e,t){for(var i=e.toByteArray(),s=0;s<i.length&&i[s]==0;)++s;if(i.length-s!=t-1||i[s]!=2)return null;for(++s;i[s]!=0;)if(++s>=i.length)return null;for(var o="";++s<i.length;){var r=i[s]&255;r<128?o+=String.fromCharCode(r):r>191&&r<224?(o+=String.fromCharCode((r&31)<<6|i[s+1]&63),++s):(o+=String.fromCharCode((r&15)<<12|(i[s+1]&63)<<6|i[s+2]&63),s+=2)}return o}function Ao(e,t,i){if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=q(e,16),this.e=parseInt(t,16),this.d=q(i,16);else throw new Error("Invalid RSA private key")}function Co(e,t,i,s,o,r,n,a){if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=q(e,16),this.e=parseInt(t,16),this.d=q(i,16),this.p=q(s,16),this.q=q(o,16),this.dmp1=q(r,16),this.dmq1=q(n,16),this.coeff=q(a,16);else throw new Error("Invalid RSA private key")}function Do(e,t){var i=new wt,s=e>>1;this.e=parseInt(t,16);for(var o=new O(t,16);;){for(;this.p=new O(e-s,1,i),!(this.p.subtract(O.ONE).gcd(o).compareTo(O.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new O(s,1,i),!(this.q.subtract(O.ONE).gcd(o).compareTo(O.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var n=this.p.subtract(O.ONE),a=this.q.subtract(O.ONE),l=n.multiply(a);if(l.gcd(o).compareTo(O.ONE)==0){this.n=this.p.multiply(this.q),this.d=o.modInverse(l),this.dmp1=this.d.mod(n),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}}function Mo(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}function ko(e){var t=q(e,16),i=this.doPrivate(t);return i==null?null:Io(i,this.n.bitLength()+7>>3)}U.prototype.doPrivate=Mo;U.prototype.setPrivate=Ao;U.prototype.setPrivateEx=Co;U.prototype.generate=Do;U.prototype.decrypt=ko;var _o=U;const Bo=st(_o),Oo=()=>V.post("/V1/Register/GetRegisterSetting",he),Po=()=>V.post("/V1/Register/C"),xo=e=>V.post("/V1/Register/GetAgentAccountByCode",{Code:e}),Lo=()=>V.post("/V1/Register/GetAgentAccountByLink",{Link:window.location.host}),qo=e=>V.post("/V1/Register/GetAgentAccountById",e),No=e=>V.post("/V1/Register/A",{...he,...e}),Vo=e=>V.post("/V1/ThirdPartyVerify/MobileSendCode",{...he,...e}),Uo=e=>V.post("/V1/ThirdPartyVerify/MobileVerify",{...he,...e}),or=()=>{const e=S(!0),t=S(),i=K(),s=te(),o=C(()=>s.isLogin);re(async()=>{o.value||await r()}),G(()=>o.value,async n=>{n||await r()});const r=async()=>{e.value=!0;try{const n=await Oo();n?.ErrorCode===2e4&&(t.value=pt(n.Data,{deep:!0}),i.setRegisterSetting(t.value))}finally{e.value=!1}};return{fetchSettings:r,loading:e,settings:t}},rr=(e,t)=>{const i=K();e||(e=i.registerSetting);const s=te(),o=le(),r=ot(),{t:n}=ae(),a=S(""),l=S(!1),c=S(!1),f=S(!1),m=rt(),g=S(!1),b=S(!1),y=S(!1),T=S(!1),A=S(!1),_=S(""),j=["SK telecom","KT","LG U+","SK telecom 알뜰폰","KT 알뜰폰","LG U+ 알뜰폰"],fe=new Bo,X={modulus:"",exponent:""},D=S(),u=S();re(async()=>{R.parentMemberId="0";let d={ParentAccount:"",Data:void 0,ErrorCode:0,ErrorMessage:""};J.c&&(u.value=J.c,d=await xo(u.value)),d&&d?.ErrorCode!==2e4&&(d=await Lo(),J.a&&d?.ErrorCode!==2e4&&(d=await qo({AgentId:J.a}))),d?.ErrorCode===2e4&&(R.parentAccount=d.ParentAccount,R.parentMemberId=d?.ParentMemberId??"0",A.value=!0,_.value="*".repeat(R.parentAccount.length));const[$]=await Promise.all([mi()]);$?.ErrorCode===2e4&&(D.value=$.Data)}),nt({validateOnBlur:!1,validateOnChange:!0,validateOnInput:!0,validateOnModelUpdate:!0});const M=at({account:v().matches(/^[A-Za-z](?=.*\d)[A-Za-z_0-9]{3,14}$/,n("Register.AccountTxt")).required(n("Register.FieldRequired")),password:v().matches(/^(?=.*[a-zA-Z])(?=.*\d)[\w!@#$%^&*()_+]{6,}$/,n("Register.PasswordTxt")).required(n("Register.FieldRequired")),confirmPassword:v().when("password",{is:d=>d&&d.length>0,then:()=>v().oneOf([di("password"),""],n("Register.ConfrimPwdNoMatch")).required(n("Register.FieldRequired"))}),moneyPassword:v().matches(/^\d{4,6}$/,n("Register.MoneyPasswordTxt")).required(n("Register.FieldRequired")),birthday:e.isRequiredBirthday?v().matches(/^\d{4}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/,n("Register.BirthdayTxt2")).required(n("Register.FieldRequired")):v().matches(/^(\d{4}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$|$)/,n("Register.BirthdayTxt2")),mobile:e.isRequiredMobile?v().matches(/^01[016789]{1}[0-9]{8}$/,n("Register.MobileTxt")).required(n("Register.FieldRequired")):v().matches(/^(01[016789]{1}[0-9]{8}$|$)/,n("Register.MobileTxt")),smsCode:v(),mobileCarrier:e.isRequiredMobile?v().required(n("Register.CarrierTxt")):v(),sex:e.isRequiredSex?v().required(n("Register.FieldRequired")):v(),name:v().when("isSoul",{is:()=>ie.SITE_NAME=="SOUL",then:()=>e.isRequiredName?v().matches(/^[\uac00-\ud7a3]+$/,n("Register.Hint_BankUserName2")).required(n("Register.FieldRequired")):v(),otherwise:()=>e.isRequiredName?v().required(n("Register.FieldRequired")):v()}),bankAccount:e.isRequiredBankInfo||e.bankDataSetting?.isRequiredBankAccount?v().matches(/^[0-9]+$/,n("Register.BankAccountTxt2")).required(n("Register.FieldRequired")):v().matches(/^([0-9]+$|$)/,n("Register.BankAccountTxt2")),bankName:e.isRequiredBankInfo||e.bankDataSetting?.isRequiredBankName?v().required(n("Register.BankTxt")):v(),parentAccount:e.isRequiredAgentId?v().matches(/^.{4,15}$/,n("Register.ParentAccountTxt2")).required(n("Register.FieldRequired")):v().matches(/^(.{4,15}$|$)/,n("Register.ParentAccountTxt2")),parentMemberId:v()}),St={account:s.isRemember?s.account:"",password:"",confirmPassword:"",moneyPassword:"",birthday:"",mobile:"",smsCode:"",mobileCarrier:"",name:"",bankAccount:"",bankName:"",parentAccount:"",parentMemberId:"0",gender:"",sex:""},{resetForm:_e,handleSubmit:Et,isSubmitting:Rt,setFieldError:Be,errors:Oe,meta:Pe,values:R,setFieldValue:It,setValues:At,validate:xe}=ht({validationSchema:M,initialValues:St}),Ct=pi("sex",d=>!!d),Dt=async()=>{R.sex="",await Ct.validate()},Mt=Et(async d=>{if(xe(),!Pe.value.valid)return;const $=await Po();if($?.ErrorCode===2e4){X.exponent=$.Exponent,X.modulus=$.Modulus;const N=X.modulus.split("").reverse().join("");fe.setPublic(N,X.exponent)}be(d.birthday)||(d.birthday=ri(String(d.birthday)).format("YYYY/MM/DD"));const Ut=pt(d,{deep:!0,pascalCase:!0}),$t=JSON.stringify(Ut),qe=encodeURIComponent($t),Ne=100,de=[];function Ve(){de.length=0;for(let N=0;N<qe.length;N+=Ne){const Ue=fe.encrypt(qe.substring(N,N+Ne));if(Ue.length!==256){Ve();break}de.push(Ue)}}Ve();const pe=await No({EncryptedArray:de});if(pe.ErrorCode===2e4){J.clear(),s.setToken(pe.Token),s.setAccount(d.account),s.setIsLogin(!0),s.setIsQualified(!1),o.setRegisterModalVisible(!1),s.setIsRegisterMode(!1),m.show({component:t,bind:{name:"register",bodyText:n("Register.RegisterSuccess"),modalIconType:"confirm"}}),Re(()=>{m.hide("register"),r.currentRoute.value.name==="SignUp"&&r.push("/")},3e3),_e();return}m.show({component:t,bind:{bodyText:ee(pe)},on:{confirm(N){N()},cancel(N){N()}}})}),Le=()=>{_e()},kt=d=>{c.value=d,T.value=d},_t=d=>{f.value=d,T.value=d},Bt=Gt(async()=>{if(Oe.value.account)return;g.value=!1;const d=await ni({MemberAccount:R.account});d.ErrorCode===2e4?g.value=!0:(g.value=!1,Be("account",ee(d)))},800),Ot=async()=>{y.value=!0,(await Vo({mobile:R.mobile})).ErrorCode===2e4&&(g.value=!0)},Pt=async()=>{const d=await Uo({mobile:R.mobile,confirmCode:R.smsCode});d.ErrorCode===2e4?b.value=!0:Be("smsCode",ee(d))},xt=()=>{y.value=!1};function Lt(){o.setRegisterModalVisible(!1),s.setIsRegisterMode(!1),Le()}const qt=C(()=>{const d=/^.{6,}$/;if(R.password.length!==0)return R.password.match(d)?"checkOk":"checkWrong"}),Nt=C(()=>{const d=/^(?=.*[a-zA-Z])(?=.*\d).+$/;if(R.password.length!==0)return R.password.match(d)?"checkOk":"checkWrong"}),Vt=C(()=>{const d=/[!@#$%^&*()_+]/,$=/[-=,./?<>{}[\]|\\:;"'~`]/;if(R.password.length!==0)return R.password.match($)?"checkWrong":R.password.match(d)?"checkOk":""});return{asteriskMaskCode:_,banks:D,carriers:j,errMessage:a,errors:Oe,haveAgent:A,hideModal:T,isAccountChecked:g,isSMSVerified:b,isSubmitting:Rt,loading:l,meta:Pe,passwordContainSixWord:qt,passwordLimitWord:Nt,passwordIncludeSymbols:Vt,showBank:f,showCarrier:c,smsCounting:y,st:e,values:R,changeBankModal:_t,changeCarrierModal:kt,checkAccountExists:Bt,onClickSex:Dt,onClose:Lt,onCountdownEnd:xt,onSubmit:Mt,resetRegisterForm:Le,sendCode:Ot,setFieldValue:It,setValues:At,validate:xe,verifyCode:Pt}},$o=()=>V.post("/V1/PopUp/GetList",ai);class Fo{getCloseTodayPopups(){const t=hi();if(t!==void 0){const i=new Date;return t.Day===i.getDate()?t:this.getNewModel()}else return this.getNewModel()}getNewModel(){const i={Popups:[],Day:new Date().getDate()};return Fe(i),i}putIntoCookie(t){const i=this.getCloseTodayPopups();Wt(i.Popups,t)===-1&&(i.Popups.push(t),Fe(i))}}const it=new Fo,nr=()=>{const e=K(),t=Ht(),i=S(),s=C(()=>t.path!=="/"?!1:jt(i.value,{Show:!0}));async function o(){const c=await $o(),{Data:f}=c;e.setAd(f);const m=it.getCloseTodayPopups();let g=Kt(e.adList);$e(m.Popups,b=>{g=Yt(g,{Id:b})}),i.value=$e(Qt(g,["Sort"]),b=>{b.Content!==null?(b.Show=!0,window.isWebpCanUse&&(b.Content=b.Content.replace(/\.jpg|\.jpeg|\.png/,".webp"))):b.Show=!1})}re(async()=>{await o()}),G(()=>t.path,async()=>{ie.THEME_LAYOUT_CODE=="a01"&&t.path=="/"&&await o()});async function r(c){let f;Z(c)?f=ve(i.value,{Show:!0}):f=ve(i.value,{Id:c}),f&&(f.Show=!1)}async function n(c){const f=ve(i.value,{Id:c});f.Show=!1,it.putIntoCookie(c)}const a=window.innerHeight/100,l=()=>document.documentElement.style.setProperty("--vh",a+"px");return l(),re(()=>{window.addEventListener("resize",l)}),Zt(()=>{window.removeEventListener("resize",l)}),{closeById:n,closeBySort:r,fetchList:o,listData:i,showPopup:s}};class zo{constructor(){me(this,"isSupportAPP",S(!1));me(this,"downloadUrl","");ye({}.VITE_GLOB_APP_DOWNLOAD_LINK)||(this.isSupportAPP.value=!0,this.downloadUrl={}.VITE_GLOB_APP_DOWNLOAD_LINK)}getAppmeta(){Xt.get("/appmeta/upload/meta/appmeta.json").then(t=>{t.status==200&&(this.downloadUrl={}.VITE_GLOB_APP_DOWNLOAD_LINK.replace("{version}",t.data.versionName),this.isSupportAPP.value=!0,ze.deviceType==="iOS"&&ze.browserType==="mobile"&&(this.isSupportAPP.value=!1))}).catch(t=>{console.log("err",t)})}}const Go=new zo,Wo=()=>{const{isSupportAPP:e,downloadUrl:t}=Go;return{isSupportAPP:e,downloadUrl:t,handleDownloadByUrl:()=>{li(t,{target:"_blank"})}}},ar=()=>{const e=K(),t=te(),{isShowLuckyWheelEntry:i,isLogin:s}=Te(t),{DepositEnabled:o,WithdrawalEnabled:r,PointEnabled:n,ServiceCenterEnabled:a,SiteMailEnabled:l,BalanceHistoryEnabled:c,BetHistoryEnabled:f,AppEnabled:m,ExternalName:g,ExternalLinkEnabled:b,ExternalLinkOpenMode:y}=Te(e),{isSupportAPP:T}=Wo(),A=C(()=>e.contact),_=D=>{D.show=b.value,b.value&&(D.target=y.value===1?"externalAd":"self",D.text=g.value??"")};return{checkSettings:D=>(D.forEach(u=>{switch(u.name){case"advertisement":{_(u);break}case"shoppingMall":{const M=C(()=>e.mallSetting);u.show=!Z(M.value);break}case"signInBook":{const M=C(()=>t.signEvent);u.show=!Z(M.value);break}case"referral":{const M=C(()=>e.mgmSettings);u.show=M.value?.IsEnabled;break}case"luckyWheel":{u.show=i.value===!0;break}case"ranking":{u.show=e.RankingEventEnabled;break}case"appDownload":{u.show=T.value&&m.value;break}case"coupon":{u.show=e.CouponBoxEnabled;break}case"ChatTool01":{if(be(A.value.ChatTool01)||ye(A.value.ChatTool01))return u.show=!1;u.path=`${A.value.ChatTool01}`,u.text=A.value.ChatTool01Name??"";break}case"ChatTool02":{if(be(A.value.ChatTool02)||ye(A.value.ChatTool02))return u.show=!1;u.path=`${A.value.ChatTool02}`,u.text=A.value.ChatTool02Name??"";break}case"deposit":u.show=o?.value;break;case"withdrawal":u.show=r?.value;break;case"pointDetails":u.show=n?.value;break;case"serviceCenter":u.show=a?.value;break;case"siteMail":u.show=l?.value;break;case"balanceHistory":u.show=c?.value;break;case"betHistory":u.show=f?.value;break;default:u.show=!0}}),D),checkEventSettings:D=>(D.forEach(u=>{switch(u.name){case"shoppingMall":{const M=C(()=>e.mallSetting);s.value?u.show=!Z(M.value):u.show=e.ShoppingMallEnabled;break}case"signInBook":{const M=C(()=>t.signEvent);s.value?u.show=!Z(M.value):u.show=e.SignEventEnabled;break}case"referral":{const M=C(()=>e.mgmSettings);s.value?u.show=M.value?.IsEnabled:u.show=e.ReferralEnabled;break}case"luckyWheel":{s.value?u.show=i.value===!0:u.show=e.luckyWheelEnabled;break}case"ranking":{u.show=e.RankingEventEnabled;break}case"appDownload":{u.show=T.value&&m.value;break}case"coupon":{u.show=e.CouponBoxEnabled;break}case"vip":{s.value?u.show=!0:u.show=e.VIPClubEnabled;break}case"deposit":u.show=o?.value;break;case"withdrawal":u.show=r?.value;break;case"pointDetails":u.show=n?.value;break;case"serviceCenter":u.show=a?.value;break;case"siteMail":u.show=l?.value;break;case"balanceHistory":u.show=c?.value;break;case"betHistory":u.show=f?.value;break;default:u.show=!0}}),D),checkEventNoticeSettings:D=>(D.forEach(u=>{switch(u.name){case"signInBook":{const M=C(()=>t.signEvent);u.show=!Z(M.value);break}case"luckyWheel":{u.show=i.value===!0;break}case"coupon":{u.show=e.CouponBoxEnabled;break}case"ranking":{u.show=e.RankingEventEnabled;break}default:u.show=!0}}),D)}},Ho=le();Te(K());const jo=ie.THEME_LAYOUT_CODE,hr=()=>{ne.currentRoute.value.name==="Home"?window.location.reload():(jo==="b02"&&(K().resetCheckPointPath(),ci.isMobile&&Ho.setSideMenuVisible(!1)),ne.push({name:"Home"}))},lr=(e,t)=>{const{t:i}=ae(),s=rt(),o=ot(),r=le();return{params:e,sendGuestMessage:Ge,submitGuestMessage:async()=>{if(e.Name.length===0){s.show({component:t,bind:{bodyText:i("Guest.EnterName"),modalIconType:"alert"}});return}if(e.Mobile.length===0){s.show({component:t,bind:{bodyText:i("Guest.EnterPhone"),modalIconType:"alert"}});return}else if(!/^(?=\d{11}$)(010|011|016|017|018|019)/.test(e.Mobile)){s.show({component:t,bind:{bodyText:i("Guest.WrongFormat"),modalIconType:"alert"}});return}if(e.Content.length===0){s.show({component:t,bind:{bodyText:i("Guest.EnterQuestion",["@"]),modalIconType:"alert"}});return}if((await Ge(e))?.ErrorCode==2e4){s.show({component:t,bind:{bodyText:i("Guest.MessageSent"),modalIconType:"confirm"},on:{confirm:l=>{r.setGuestMailVisible(!1),l(),o.push("/")},clickOutside:()=>{r.setGuestMailVisible(!1),close(),o.push("/")}}});for(const l in e)delete e[l]}else s.show({component:t,bind:{bodyText:i("Common.Failed"),modalIconType:"alert"}})}}},cr=()=>{const e=te(),t=le(),{t:i}=ae(),s=S("");nt({validateOnBlur:!1,validateOnChange:!1,validateOnInput:!0,validateOnModelUpdate:!1});const o=at({account:v().required(i("Login.RequiredErrorMsg")),password:v().required(i("Login.RequiredErrorMsg"))}),r={account:ui()??"",password:""},{resetForm:n,handleSubmit:a,isSubmitting:l,setFieldError:c,errors:f}=ht({validationSchema:o,initialValues:r}),{checkHideElement:m}=oi(),g=a(async y=>{const T=await e.login(y);T.ErrorCode===2e4&&(b(!1),n(),fi(),m()),T.ErrorMessage&&(c("password",ee(T)),s.value=ee(T))}),b=y=>{ie.SITE_NAME!=="Aven Casino"&&t.setLoginModalVisible(y)};return{errors:f,errMessage:s,onSubmit:g,isSubmitting:l,changeModal:b}};export{rr as a,lr as b,or as c,ar as d,nr as e,Wo as f,hr as g,sr as h,tr as i,ir as j,cr as u};
