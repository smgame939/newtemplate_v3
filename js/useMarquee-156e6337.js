import{i as D,r as n,w as k,e as S,P as B,ay as F,o as p,y as q,q as O,ae as M,z as P,t as b,aj as R,aq as U,af as Y,b0 as G,a1 as x}from"./vendor-749afd36.js";import{a9 as K,aa as X,a as J,i as Q}from"./index-42c4f717.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vue3-marquee{display:flex!important;position:relative}.vue3-marquee.horizontal{overflow-x:hidden!important;flex-direction:row!important;width:100%;height:max-content}.vue3-marquee.vertical{overflow-y:hidden!important;flex-direction:column!important;height:100%;width:max-content}.vue3-marquee:hover div{animation-play-state:var(--pauseOnHover)}.vue3-marquee:active div{animation-play-state:var(--pauseOnClick)}.vue3-marquee>.marquee{flex:0 0 auto;min-width:var(--min-width);min-height:var(--min-height);z-index:1;animation:var(--orientation) var(--duration) linear var(--delay) var(--loops);animation-play-state:var(--pauseAnimation);animation-direction:var(--direction)}.vue3-marquee.horizontal>.marquee{display:flex;flex-direction:row;align-items:center}.vue3-marquee.vertical>.marquee{display:flex;flex-direction:column;align-items:center}@keyframes scrollX{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes scrollY{0%{transform:translateY(0)}to{transform:translateY(-100%)}}.vue3-marquee>.overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.transparent-overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.overlay:before,.vue3-marquee>.overlay:after{content:"";position:absolute;z-index:2}.vue3-marquee.horizontal>.overlay:before,.vue3-marquee.horizontal>.overlay:after{background:linear-gradient(to right,var(--gradient-color));height:100%;width:var(--gradient-length)}.vue3-marquee.vertical>.overlay:before,.vue3-marquee.vertical>.overlay:after{background:linear-gradient(to bottom,var(--gradient-color));height:var(--gradient-length);width:100%}.vue3-marquee.horizontal>.overlay:after{transform:rotate(180deg)}.vue3-marquee.vertical>.overlay:after{transform:rotate(-180deg)}.vue3-marquee>.overlay:before{left:0;top:0}.vue3-marquee.horizontal>.overlay:after{right:0;top:0}.vue3-marquee.vertical>.overlay:after{left:0;bottom:0}')),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();var Z=Object.defineProperty,W=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,L=(e,a,t)=>a in e?Z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,A=(e,a)=>{for(var t in a||(a={}))_.call(a,t)&&L(e,t,a[t]);if(W)for(var t of W(a))ee.call(a,t)&&L(e,t,a[t]);return e},ae=(e,a)=>{const t=e.__vccOpts||e;for(const[r,o]of a)t[r]=o;return t};const te=D({props:{vertical:{type:Boolean,default:!1},direction:{type:String,default:"normal"},duration:{type:Number,default:20},delay:{type:Number,default:0},loop:{type:Number,default:0},clone:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},gradientColor:{type:Array,default:[255,255,255]},gradientWidth:{type:String},gradientLength:{type:String},pauseOnHover:{type:Boolean,default:!1},pauseOnClick:{type:Boolean,default:!1}},emits:["onComplete","onLoopComplete","onPause","onResume"],setup(e,{emit:a}){const t=n(0),r=n("100%"),o=n("100%"),u=n(0),l=n(!1),s=n(0),v=n(0),h=n(0),i=n(0),f=n(0),g=n(null),w=n("200px"),C=n(!1),d=n(null),c=n(null),y=async()=>{await $(),u.value++},$=async()=>{e.vertical&&(l.value=!0),setInterval(()=>{if(r.value="0%",o.value="0%",d.value!==null&&c.value!==null)if(d.value&&c.value)if(e.vertical&&"clientHeight"in d.value&&"clientHeight"in c.value){i.value=d.value.clientHeight,h.value=c.value.clientHeight;const m=Math.ceil(h.value/i.value);return t.value=isFinite(m)?m:0,l.value=!1,t.value}else if(!e.vertical&&"clientWidth"in d.value&&"clientWidth"in c.value){v.value=d.value.clientWidth,s.value=c.value.clientWidth;const m=Math.ceil(s.value/v.value);return t.value=isFinite(m)?m:0,t.value}else return r.value="100%",o.value="100%",0;else return r.value="100%",o.value="100%",0;else return r.value="100%",o.value="100%",0},100)};k(v,async()=>{e.clone&&y()}),k(s,async()=>{e.clone&&y()});const E=()=>{e.pauseOnHover&&a("onPause")},N=()=>{e.pauseOnHover&&a("onResume")},j=()=>{e.pauseOnClick&&a("onPause")},I=()=>{e.pauseOnClick&&a("onResume")},V=S(()=>{const m={"--duration":`${e.duration}s`,"--delay":`${e.delay}s`,"--direction":`${e.direction}`,"--pauseOnHover":`${e.pauseOnHover?"paused":"running"}`,"--pauseOnClick":`${e.pauseOnClick?"paused":"running"}`,"--pauseAnimation":`${l.value?"paused":"running"}`,"--loops":`${e.loop===0?"infinite":e.loop}`,"--gradient-color":`rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 1), rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 0)`,"--gradient-length":`${w.value}`,"--min-width":`${r.value}`,"--min-height":`${o.value}`},H={"--orientation":"scrollX",orientation:"horizontal"};return e.vertical&&(H["--orientation"]="scrollY"),A(A({},m),H)}),T=S(()=>!!e.gradient),z=async()=>{e.vertical?(o.value="100%",r.value="auto"):(o.value="auto",r.value="100%"),e.gradient&&(e.gradientWidth?(console.warn("The `gradientWidth` prop has been deprecated and will be removed in a future release. Please use `gradientLength` instead."),w.value=e.gradientWidth):e.gradientLength&&(w.value=e.gradientLength)),e.clone&&(await $(),y()),C.value=!0};return B(async()=>{z(),g.value=setInterval(()=>{f.value++,e.loop!==0&&f.value===e.loop&&(a("onComplete"),clearInterval(g.value)),a("onLoopComplete")},e.duration*1e3)}),F(()=>{clearInterval(g.value)}),{ready:C,contentWidth:v,containerWidth:s,contentHeight:i,containerHeight:h,loopCounter:f,loopInterval:g,minWidth:r,minHeight:o,marqueeContent:d,marqueeOverlayContainer:c,componentKey:u,showGradient:T,cloneAmount:t,ForcesUpdate:y,checkForClone:$,setupMarquee:z,getCurrentStyle:V,hoverStarted:E,hoverEnded:N,mouseDown:j,mouseUp:I}}}),ne={class:"transparent-overlay",ref:"marqueeOverlayContainer","aria-hidden":!0},re={class:"marquee",ref:"marqueeContent"},oe={class:"marquee","aria-hidden":!0};function le(e,a,t,r,o,u){return e.ready?(p(),q("div",{class:M(["vue3-marquee",{vertical:e.vertical,horizontal:!e.vertical}]),style:Y(e.getCurrentStyle),key:e.componentKey,onMouseenter:a[0]||(a[0]=(...l)=>e.hoverStarted&&e.hoverStarted(...l)),onMouseleave:a[1]||(a[1]=(...l)=>e.hoverEnded&&e.hoverEnded(...l)),onMousedown:a[2]||(a[2]=(...l)=>e.mouseDown&&e.mouseDown(...l)),onMouseup:a[3]||(a[3]=(...l)=>e.mouseUp&&e.mouseUp(...l))},[O("div",ne,null,512),e.showGradient?(p(),q("div",{key:0,"aria-hidden":!0,class:M(["overlay",{vertical:e.vertical,horizontal:!e.vertical}])},null,2)):P("",!0),O("div",re,[b(e.$slots,"default")],512),O("div",oe,[b(e.$slots,"default")]),(p(!0),q(R,null,U(e.cloneAmount,l=>(p(),q("div",{"aria-hidden":!0,class:"marquee cloned",key:l},[b(e.$slots,"default")]))),128))],38)):P("",!0)}var de=ae(te,[["render",le]]);const ie=()=>K.post("/V1/Marquee/GetLastMarquee",X),ce=({rate:e,basic:a})=>{const t=J(),r=n(),o="              ",u=S(()=>t.marqueeList);B(async()=>{if(!Q(u.value))r.value=o+G(u.value,o).replaceAll(/<\/?[^>]+(>|$)/gi,"");else{const{Data:i}=await ie();r.value=o+i.join(o).replaceAll(/<\/?[^>]+(>|$)/gi,""),t.setMarquee(i)}});const l=n(null),s=n(null),v=n(),h=k(()=>r.value,async i=>{if(i=="")return;await x(),a=a||l.value.offsetWidth/e;const f=s.value.offsetWidth/e;v.value=f<a?a:f,h()});return{marqueeText:r,marqueeList:u,marqueeTextRef:l,marqueeTextDurationRef:s,duration:v}};export{de as V,ce as u};
