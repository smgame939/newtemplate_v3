(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{T5xJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("TYT/"),o=n("2WDa"),a=n("rWE7"),r=n("EPxi"),s=n("wHPb"),c=n("Valr");function l(t,e){1&t&&(i.Rb(0,"div",3),i.Rb(1,"div",4),i.Mb(2,"div",5),i.Mb(3,"div",5),i.Mb(4,"div",5),i.Qb(),i.Qb())}var f=function(t){return{delay:t}},h=function(t,e){return{value:t,params:e}},g=function(){function t(t){this.changeDetectorRef=t,this.animationState$=new i.n}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.onIconAnimationEnd=function(t){t.toState===a.a.SHOW&&"done"===t.phaseName&&this.animationState$.next(s.a.SHOW_ENDED),t.toState===a.a.LEAVE&&"done"===t.phaseName&&this.animationState$.next(s.a.HIDE_ENDED)},t.\u0275fac=function(e){return new(e||t)(i.Lb(i.h))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-whistle-icon"]],inputs:{state:"state",event:"event",iconDelay:"iconDelay"},outputs:{animationState$:"animationState$"},decls:3,vars:7,consts:[[1,"animation-wrapper"],[1,"event-text-icon","animated-icon","kick-off"],["class","fireworks-wrapper",4,"ngIf"],[1,"fireworks-wrapper"],[1,"fireworks"],[1,"firework"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Zb("@toggleIconRotation.done",(function(t){return e.onIconAnimationEnd(t)})),i.Mb(1,"span",1),i.Qb(),i.uc(2,l,5,0,"div",2)),2&t&&(i.jc("@toggleIconRotation",i.mc(4,h,e.state,i.lc(2,f,e.iconDelay))),i.zb(2),i.jc("ngIf","show"===e.state))},directives:[c.k],styles:['[_nghost-%COMP%]{overflow:hidden}.animated-icon[_ngcontent-%COMP%]{width:1em;height:1em}.event-text-icon[_ngcontent-%COMP%]{margin-left:0}.animation-wrapper[_ngcontent-%COMP%]{transform-origin:75% 50%;display:flex;align-items:center;justify-content:center;overflow:hidden}@-webkit-keyframes kickOffRotation{0%{transform:rotate(0deg)}10%{transform:rotate(10deg)}20%{transform:rotate(0deg)}30%{transform:rotate(10deg)}40%{transform:rotate(0deg)}50%{transform:rotate(10deg)}60%,to{transform:rotate(0deg)}}@keyframes kickOffRotation{0%{transform:rotate(0deg)}10%{transform:rotate(10deg)}20%{transform:rotate(0deg)}30%{transform:rotate(10deg)}40%{transform:rotate(0deg)}50%{transform:rotate(10deg)}60%,to{transform:rotate(0deg)}}.fireworks-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;display:block;width:50px;height:50px;margin:auto}.fireworks[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;height:0;width:0}@-webkit-keyframes kickOffFirework{0%{transform:scaleY(0) translateY(0);opacity:1}33%{transform:scaleY(0) translateY(0);opacity:1}45%{transform:scaleY(0) translateY(0);opacity:1}50%{transform:scaleY(.5) translateY(0);opacity:1}60%{transform:scaleY(1) translateY(100%);opacity:1}to{transform:scaleY(1) translateY(150%);opacity:1}}@keyframes kickOffFirework{0%{transform:scaleY(0) translateY(0);opacity:1}33%{transform:scaleY(0) translateY(0);opacity:1}45%{transform:scaleY(0) translateY(0);opacity:1}50%{transform:scaleY(.5) translateY(0);opacity:1}60%{transform:scaleY(1) translateY(100%);opacity:1}to{transform:scaleY(1) translateY(150%);opacity:1}}.fireworks[_ngcontent-%COMP%]   .firework[_ngcontent-%COMP%]{position:absolute;top:100%;height:1em;width:1px;overflow:hidden;border-radius:10rem;transform-origin:top center}@media screen and (min-width:400px){.fireworks[_ngcontent-%COMP%]   .firework[_ngcontent-%COMP%]{width:2px}}.fireworks[_ngcontent-%COMP%]   .firework[_ngcontent-%COMP%]:before{content:"";opacity:0;bottom:20%;width:100%;height:60%;position:absolute;background-color:#fff;border-radius:10rem;transform:scaleY(2) translateY(100%);-webkit-animation-name:kickOffFirework;animation-name:kickOffFirework;-webkit-animation-duration:1.3s;animation-duration:1.3s;-webkit-animation-delay:.25s;animation-delay:.25s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.68,.99,1,.15);animation-timing-function:cubic-bezier(.68,.99,1,.15);will-change:transform,opacity}.fireworks[_ngcontent-%COMP%]   .firework.hide[_ngcontent-%COMP%]{display:none}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:first-child{transform:rotate(147.30769231deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(2){transform:rotate(175deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(3){transform:rotate(202.69230769deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(4){transform:rotate(230.38461538deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(5){transform:rotate(258.07692308deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(6){transform:rotate(285.76923077deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(7){transform:rotate(313.46153846deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(8){transform:rotate(341.15384615deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(9){transform:rotate(368.84615385deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(10){transform:rotate(396.53846154deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(11){transform:rotate(424.23076923deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(12){transform:rotate(451.92307692deg)}.fireworks[_ngcontent-%COMP%]:first-child   .firework[_ngcontent-%COMP%]:nth-child(13){transform:rotate(479.61538462deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:first-child{transform:rotate(147.30769231deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(2){transform:rotate(175deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(3){transform:rotate(202.69230769deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(4){transform:rotate(230.38461538deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(5){transform:rotate(258.07692308deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(6){transform:rotate(285.76923077deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(7){transform:rotate(313.46153846deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(8){transform:rotate(341.15384615deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(9){transform:rotate(368.84615385deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(10){transform:rotate(396.53846154deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(11){transform:rotate(424.23076923deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(12){transform:rotate(451.92307692deg)}.fireworks[_ngcontent-%COMP%]:nth-child(2)   .firework[_ngcontent-%COMP%]:nth-child(13){transform:rotate(479.61538462deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:first-child{transform:rotate(147.30769231deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(2){transform:rotate(175deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(3){transform:rotate(202.69230769deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(4){transform:rotate(230.38461538deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(5){transform:rotate(258.07692308deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(6){transform:rotate(285.76923077deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(7){transform:rotate(313.46153846deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(8){transform:rotate(341.15384615deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(9){transform:rotate(368.84615385deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(10){transform:rotate(396.53846154deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(11){transform:rotate(424.23076923deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(12){transform:rotate(451.92307692deg)}.fireworks[_ngcontent-%COMP%]:nth-child(3)   .firework[_ngcontent-%COMP%]:nth-child(13){transform:rotate(479.61538462deg)}.fireworks[_ngcontent-%COMP%]:first-child{left:50%}.fireworks[_ngcontent-%COMP%]:nth-child(2){left:75%}'],data:{animation:[Object(o.p)("toggleIconRotation",[Object(o.m)(""+a.a.SHOW,Object(o.n)({animation:"kickOffRotation 1300ms linear "+r.a.show+"s infinite"})),Object(o.m)(""+a.a.LEAVE,Object(o.n)({opacity:"0"})),Object(o.o)("* => "+a.a.SHOW,[Object(o.n)({transform:"translateY(-100%)"}),Object(o.e)(r.a.show+"s",Object(o.i)([Object(o.n)({transform:"translateY(0)"})]))]),Object(o.o)("* => "+a.a.LEAVE,[Object(o.e)(r.a.hide+"s",Object(o.i)([Object(o.n)({opacity:"0"})]))])])]},changeDetection:0}),t}()},WsNk:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("TYT/"),o=n("K9Ia"),a=n("ny24"),r=n("2WDa"),s=n("rWE7"),c=n("lvqX"),l=n("wHPb"),f=n("Yrdq"),h=["play"],g=["app-camera-review",""],p=function(){function t(t,e,n,a,r){this.documentStateService=t,this.changeDetectorRef=e,this.builder=n,this.renderer=a,this.el=r,this.animationState$=new i.n,this.viewConfig={width:"100px",height:"100px",x:"-50px",y:"-50px"},this.destroyComponentSubject$=new o.a,this.initFactories()}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){t===s.a.SHOW?(this._state=t,this.changeDetectorRef.markForCheck()):this.playLeaveAnimation()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.payload&&this.payload.viewConfig&&Object.assign(this.viewConfig,this.payload.viewConfig),this.renderer.setAttribute(this.el.nativeElement,"height",this.viewConfig.height),this.renderer.setAttribute(this.el.nativeElement,"width",this.viewConfig.width),this.renderer.setAttribute(this.el.nativeElement,"x",this.viewConfig.x),this.renderer.setAttribute(this.el.nativeElement,"y",this.viewConfig.y)},t.prototype.ngAfterViewInit=function(){var t=this;this.documentStateService.documentVisibilityChange$.pipe(Object(a.a)(this.destroyComponentSubject$)).subscribe((function(e){e&&t.animationState$.next(l.a.HIDE_ENDED)}))},t.prototype.ngOnDestroy=function(){this.destroyComponentSubject$.next(),this.destroyComponentSubject$.complete()},t.prototype.onCameraAnimationChange=function(t){var e=this;if(t.show){var n=this.showFactory.create(this.play.nativeElement);n.onDone((function(){e.state===s.a.SHOW&&(e.renderer.setStyle(e.play.nativeElement.querySelector(".play-btn"),"animation","scalingPlayBtn 1.5s linear infinite"),e.animationState$.emit(l.a.SHOW_ENDED))})),n.play()}t.leave&&this.animationState$.emit(l.a.HIDE_ENDED)},t.prototype.initFactories=function(){this.showFactory=this.builder.build([Object(r.j)(".play-btn-background",Object(r.e)("300ms",Object(r.i)([Object(r.n)({opacity:0}),Object(r.n)({opacity:1})]))),Object(r.j)(".play-btn",[Object(r.e)("300ms",Object(r.i)([Object(r.n)({transform:"scale(0)"}),Object(r.n)({transform:"scale(1)"})]))])]),this.leaveFactory=this.builder.build([Object(r.e)("300ms",Object(r.i)([Object(r.n)({opacity:1}),Object(r.n)({opacity:0})]))])},t.prototype.playLeaveAnimation=function(){var t=this;this.renderer.removeStyle(this.play.nativeElement.querySelector(".play-btn"),"animation");var e=this.leaveFactory.create(this.play.nativeElement);e.onDone((function(){t._state=s.a.LEAVE,t.changeDetectorRef.detectChanges()})),e.play()},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a),i.Lb(i.h),i.Lb(r.b),i.Lb(i.D),i.Lb(i.l))},t.\u0275cmp=i.Fb({type:t,selectors:[["svg","app-camera-review",""]],viewQuery:function(t,e){var n;1&t&&i.Cc(h,!0),2&t&&i.nc(n=i.ac())&&(e.play=n.first)},inputs:{state:"state",event:"event",iconDelay:"iconDelay",payload:"payload"},outputs:{animationState$:"animationState$"},attrs:g,decls:5,vars:1,consts:[["app-camera","",3,"state","animationState$"],[1,"active-section"],["play",""],["cx","23.5","cy","22","r","11.5",1,"play-btn-background"],["d","M29.8,21L21,14.9c-0.9-0.6-1.7-0.2-1.7,0.9v12.7c0,1.1,0.8,1.5,1.7,0.9l8.8-6.1C30.8,22.7,30.8,21.6,29.8,21z",1,"play-btn"]],template:function(t,e){1&t&&(i.cc(),i.Rb(0,"g",0),i.Zb("animationState$",(function(t){return e.onCameraAnimationChange(t)})),i.Rb(1,"g",1,2),i.Mb(3,"circle",3),i.Mb(4,"path",4),i.Qb(),i.Qb()),2&t&&i.jc("state",e.state)},directives:[f.a],styles:["[_nghost-%COMP%]{width:70px;height:auto}.play-btn[_ngcontent-%COMP%]{fill:#fff;transform:scale(0);transform-origin:20px 20px}.play-btn-background[_ngcontent-%COMP%]{opacity:0;fill:#ff2400}@-webkit-keyframes scalingPlayBtn{0%,30%{transform:scale(1)}50%{transform:scale(.7)}70%,to{transform:scale(1)}}@keyframes scalingPlayBtn{0%,30%{transform:scale(1)}50%{transform:scale(.7)}70%,to{transform:scale(1)}}"],changeDetection:0}),t}()},Yrdq:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("TYT/"),o=n("rWE7"),a=n("2WDa"),r=n("EPxi"),s=["icon"],c=["app-camera",""],l=["*"],f=function(){function t(t){this.builder=t,this.delay=r.a.show,this.animationState$=new i.n,this.initFactories()}return t.prototype.ngOnChanges=function(t){var e=t.state;e&&e.currentValue&&this.state===o.a.LEAVE&&this.runLeaveAnimation()},t.prototype.ngAfterViewInit=function(){var t=this,e=this.showFactory.create(this.icon.nativeElement);e.onDone((function(){t.animationState$.emit({show:!0,leave:!1})})),e.play()},t.prototype.runLeaveAnimation=function(){var t=this,e=this.leaveFactory.create(this.icon.nativeElement);e.onDone((function(){t.animationState$.emit({show:!1,leave:!0})})),e.play()},t.prototype.initFactories=function(){this.showFactory=this.builder.build([Object(a.n)({transform:"translateY(-125%)"}),Object(a.e)("300ms "+2*this.delay+"s",Object(a.i)([Object(a.n)({transform:"translateY(-125%)"}),Object(a.n)({transform:"translateY(0px)"})]))]),this.leaveFactory=this.builder.build([Object(a.e)(r.a.hide+"s",Object(a.i)([Object(a.n)({opacity:1}),Object(a.n)({opacity:0})]))])},t.\u0275fac=function(e){return new(e||t)(i.Lb(a.b))},t.\u0275cmp=i.Fb({type:t,selectors:[["","app-camera",""]],viewQuery:function(t,e){var n;1&t&&i.Cc(s,!0),2&t&&i.nc(n=i.ac())&&(e.icon=n.first)},inputs:{state:"state",delay:"delay"},outputs:{animationState$:"animationState$"},features:[i.xb],attrs:c,ngContentSelectors:l,decls:5,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 60 40.3",0,"xml","space","preserve"],["icon",""],["d","M58.2,6.7l-11.4,6.4V7.7c0-1.9-1.5-3.5-3.4-3.5H27.7V2.1C27.7,1,26.9,0,25.8,0h-6.2c-1.1,0-2.1,1-2.1,2.1v2.2h-3.1V2.1\n        c0-1.1-0.8-2.1-2-2.1H6.3C5.1,0,4.1,1,4.1,2.1v2.2H3.5C1.6,4.3,0,5.8,0,7.7v29.1c0,1.9,1.6,3.5,3.5,3.5h39.9c1.9,0,3.4-1.5,3.4-3.5\n        v-5.5l11.4,6.4c1,0.5,1.8,0.1,1.8-1v-29C60,6.6,59.2,6.1,58.2,6.7z M23.5,33.5c-6.3,0-11.4-5.1-11.4-11.4s5.1-11.4,11.4-11.4\n        s11.4,5.1,11.4,11.4C34.8,28.4,29.7,33.5,23.5,33.5z",1,"camera"]],template:function(t,e){1&t&&(i.ic(),i.cc(),i.Rb(0,"svg",0),i.Rb(1,"g",null,1),i.hc(3),i.Mb(4,"path",2),i.Qb(),i.Qb())},styles:[".camera[_ngcontent-%COMP%]{fill:#fff}"],changeDetection:0}),t}()},dN2S:function(t,e,n){"use strict";n.r(e),n.d(e,"FootballModule",(function(){return ee}));var i=n("Valr"),o=n("QJY3"),a=n("s6lY"),r=n("zBGL"),s=n("mrSG"),c=n("XKHT"),l=n("7l3C"),f=n("LLOj"),h=function(){function t(t,e){this.fieldConfiguration=t,this.translationService=e}return Object.defineProperty(t.prototype,"EVENT_MESSAGE",{get:function(){return this.translationService.getTranslation()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EVENT_CLASS",{get:function(){var t;return(t={})[l.g.GOAL]="goal",t[l.g.FREE_KICK_ZONE]="free-kick",t[l.g.DANGEROUS_FREE_KICK_ZONE]="free-kick",t[l.g.SHOT_OFF_TARGET]="shot-off",t[l.g.PENALTY_MISSED]="penalty-missed",t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TEAM_CLASS",{get:function(){var t;return(t={})[f.a.NONE]=f.b.NONE,t[f.a.HOME]=f.b.HOME,t[f.a.AWAY]=f.b.AWAY,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DEFAULT_BALL_POSITION",{get:function(){var t,e,n,i,o,a,r,s,c,h,g,p,u,b,d,m,v;return(t={})[l.g.FREE_KICK_ZONE]=((e={})[f.a.HOME]={x:(.5*this.fieldConfiguration.getFieldWidth()-80)/this.fieldConfiguration.getFieldWidth(),y:.2*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},e[f.a.AWAY]={x:(.5*this.fieldConfiguration.getFieldWidth()+80)/this.fieldConfiguration.getFieldWidth(),y:.2*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},e),t[l.g.DANGEROUS_FREE_KICK_ZONE]=((n={})[f.a.HOME]={x:(this.fieldConfiguration.getFieldWidth()-350)/this.fieldConfiguration.getFieldWidth(),y:.3*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},n[f.a.AWAY]={x:350/this.fieldConfiguration.getFieldWidth(),y:.3*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},n),t[l.g.THROW_ZONE]=((i={})[f.a.HOME]={x:.75*this.fieldConfiguration.getFieldWidth()/this.fieldConfiguration.getFieldWidth(),y:0},i[f.a.AWAY]={x:.25*this.fieldConfiguration.getFieldWidth()/this.fieldConfiguration.getFieldWidth(),y:1},i),t[l.g.GOAL_KICK]=((o={})[f.a.HOME]={x:65/this.fieldConfiguration.getFieldWidth(),y:(.5*this.fieldConfiguration.getFieldHeight()-48)/this.fieldConfiguration.getFieldHeight()},o[f.a.AWAY]={x:(this.fieldConfiguration.getFieldWidth()-65)/this.fieldConfiguration.getFieldWidth(),y:(.5*this.fieldConfiguration.getFieldHeight()+48)/this.fieldConfiguration.getFieldHeight()},o),t[l.g.PENALTY]=((a={})[f.a.HOME]={x:(this.fieldConfiguration.getFieldWidth()-120)/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},a[f.a.AWAY]={x:120/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},a),t[l.g.PENALTY_SHOOT_OUT]=((r={})[f.a.HOME]={x:(this.fieldConfiguration.getFieldWidth()-120)/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},r[f.a.AWAY]={x:120/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},r),t[l.g.PENALTY_MISSED]=((s={})[f.a.HOME]={x:(this.fieldConfiguration.getFieldWidth()-120)/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},s[f.a.AWAY]={x:120/this.fieldConfiguration.getFieldWidth(),y:.5*this.fieldConfiguration.getFieldHeight()/this.fieldConfiguration.getFieldHeight()},s),t[l.g.GOAL]=((c={})[f.a.HOME]={x:.7,y:.5},c[f.a.AWAY]={x:.3,y:.5},c),t[l.g.CORNER]=((h={})[f.a.HOME]={x:1,y:0},h[f.a.AWAY]={x:0,y:0},h),t[l.g.KICK_OFF]=((g={})[f.a.HOME]={x:.5,y:.5},g[f.a.AWAY]={x:.5,y:.5},g),t[l.g.SAFE_POSSESSION]=((p={})[f.a.HOME]={x:.5,y:.5},p[f.a.AWAY]={x:.5,y:.5},p),t[l.g.ATTACK]=((u={})[f.a.HOME]={x:.6,y:.5},u[f.a.AWAY]={x:.4,y:.5},u),t[l.g.DANGEROUS_ATTACK]=((b={})[f.a.HOME]={x:.8,y:.5},b[f.a.AWAY]={x:.2,y:.5},b),t[l.g.OFFSIDE]=((d={})[f.a.HOME]={x:.9,y:.5},d[f.a.AWAY]={x:.1,y:.5},d),t[l.g.SHOT_OFF_TARGET]=((m={})[f.a.HOME]={x:.7,y:.5},m[f.a.AWAY]={x:.3,y:.5},m),t[l.g.SHOT_ON_TARGET]=((v={})[f.a.HOME]={x:.7,y:.5},v[f.a.AWAY]={x:.3,y:.5},v),t},enumerable:!0,configurable:!0}),t}(),g=n("0+uB"),p=n("TYT/"),u=function(){function t(t){this.translation=t,this.footballFieldConfiguration=new c.a(1700,852,60,64,150),this.footballEventsConfiguration=new h(this.footballFieldConfiguration,this.translation),this.sportTeams={home:{name:"Home",color:"#e53836",abbreviation:"H"},away:{name:"Away",color:"#3363b0",abbreviation:"A"}}}return t.prototype.getTeamsData=function(){return this.sportTeams},t.prototype.getShirtColorForTeam=function(t){return t===f.a.HOME?this.sportTeams.home.color:t===f.a.AWAY?this.sportTeams.away.color:void 0},t.prototype.setTeamsInfo=function(t,e){var n=this;t.forEach((function(t){1===t[0]?n.sportTeams=Object(s.a)(Object(s.a)({},n.sportTeams),{home:{name:t[1],abbreviation:t[1][0],color:n.sportTeams.home.color}}):2===t[0]&&(n.sportTeams=Object(s.a)(Object(s.a)({},n.sportTeams),{away:{name:t[1],abbreviation:t[1][0],color:n.sportTeams.away.color}}))})),e.forEach((function(t){t.propertiesMap.forEach((function(e){"team_color"===e[0]&&e[1]&&(t.team===f.a.HOME?n.sportTeams.home.color=e[1]:t.team===f.a.AWAY&&(n.sportTeams.away.color=e[1]))}))}))},t.\u0275fac=function(e){return new(e||t)(p.Vb(g.a))},t.\u0275prov=p.Hb({token:t,factory:t.\u0275fac}),t}(),b=n("FS32"),d=n("jdhW"),m=n("vNcd"),v=function(){function t(t){this.timerService=t}return t.prototype.getTimer$=function(){return this.timerService.getTimer$()},t.prototype.updateTimer=function(t){this.timerService.updateTimer(t)},t.\u0275fac=function(e){return new(e||t)(p.Vb(m.a))},t.\u0275prov=p.Hb({token:t,factory:t.\u0275fac}),t}(),O=n("t6lo"),y=n("VVgX"),E=n("67Y/"),P=function(){function t(){this.statistic=this.setInitialStatistic()}return t.prototype.generateStatistic=function(t){this.statistic.updateStatIfExist(t)},t.prototype.updateStatistic=function(t){this.statistic.updateStatIfExist([t])},t.prototype.getStatistic$=function(){return this.statistic.getItems$()},t.prototype.getCurrentScore$=function(){return this.statistic.getItems$().pipe(Object(E.a)((function(t){return t.find((function(t){return t.scope===l.l.GOALS&&t.gamePartType===l.h.MATCH}))})),Object(E.a)((function(t){return t.value})))},t.prototype.setInitialStatistic=function(){var t=new O.a;return t.addItems([new y.a(l.h.MATCH,l.l.CORNERS),new y.a(l.h.MATCH,l.l.YELLOW_CARDS),new y.a(l.h.MATCH,l.l.RED_CARDS),new y.a(l.h.MATCH,l.l.PENALTIES),new y.a(l.h.MATCH,l.l.GOALS)]),t},t.\u0275prov=p.Hb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),C=n("1uqe"),S=new Map;S.set(l.g.DANGEROUS_ATTACK,{isAvailable:!0}),S.set(l.g.ATTACK,{isAvailable:!0}),S.set(l.g.SAFE_POSSESSION,{isAvailable:!0}),S.set(l.g.GOAL,{isAvailable:!0}),S.set(l.g.CORNER,{isAvailable:!0}),S.set(l.g.YELLOW_CARD,{isAvailable:!0}),S.set(l.g.RED_CARD,{isAvailable:!0}),S.set(l.g.GOAL_KICK,{isAvailable:!0}),S.set(l.g.PENALTY,{isAvailable:!0}),S.set(l.g.DANGEROUS_FREE_KICK_ZONE,{isAvailable:!0}),S.set(l.g.FREE_KICK_ZONE,{isAvailable:!0}),S.set(l.g.SHOT_ON_TARGET,{isAvailable:!0}),S.set(l.g.SHOT_OFF_TARGET,{isAvailable:!0}),S.set(l.g.SUBSTITUTION,{isAvailable:!0}),S.set(l.g.KICK_OFF,{isAvailable:!0}),S.set(l.g.END_OF_HALF,{isAvailable:!0}),S.set(l.g.START_OF_HALF2,{isAvailable:!0}),S.set(l.g.END_OF_FULL_TIME,{isAvailable:!0}),S.set(l.g.EXTRA_TIME1,{isAvailable:!0}),S.set(l.g.END_OF_EXTRA_TIME1,{isAvailable:!0}),S.set(l.g.EXTRA_TIME2,{isAvailable:!0}),S.set(l.g.END_OF_EXTRA_TIME,{isAvailable:!0}),S.set(l.g.PENALTY_SHOOT_OUT,{isAvailable:!0}),S.set(l.g.PENALTY_MISSED,{isAvailable:!0}),S.set(l.g.THROW_ZONE,{isAvailable:!0}),S.set(l.g.INJURY,{isAvailable:!0}),S.set(l.g.INJURY_TIME,{isAvailable:!0}),S.set(l.g.MATCH_INFO,{isAvailable:!0}),S.set(l.g.OFFSIDE,{isAvailable:!0}),S.set(l.g.SUBSTITUTION_ENHANCED,{isAvailable:!0}),S.set(l.g.TAKE_ON_DANGEROUS_ATTACK,{isAvailable:!0}),S.set(l.g.TAKE_ON_ATTACK,{isAvailable:!0}),S.set(l.g.TAKE_ON_SAFE_POSSESSION,{isAvailable:!0}),S.set(l.g.REPLAY_POSSESSION,{isAvailable:!0}),S.set(l.g.REPLAY_PENALTY,{isAvailable:!0}),S.set(l.g.REPLAY_GOAL,{isAvailable:!0}),S.set(l.g.REPLAY_TRIGGER,{isAvailable:!0}),S.set(l.g.VIDEO_REFEREE_IN_PROGRESS,{isAvailable:!0}),S.set(l.g.VIDEO_REFEREE_REVIEWING_RED_CARD,{isAvailable:!0}),S.set(l.g.VIDEO_REFEREE_REVIEWING_GOAL,{isAvailable:!0}),S.set(l.g.VIDEO_REFEREE_REVIEWING_PENALTY,{isAvailable:!0}),S.set(l.g.SHOOT_OUT_SCORE,{isAvailable:!0}),S.set(l.g.SHOOT_OUT_MISS,{isAvailable:!0}),S.set(l.g.SHOOT_OUT_TO_TAKE,{isAvailable:!0}),S.set(l.g.END_OF_MATCH,{isAvailable:!0}),S.set(l.g.BLOCKED_SHOT,{isAvailable:!0}),S.set(l.g.GOAL_ABANDONED,{isAvailable:!0}),S.set(l.g.RED_CARD_CANCELLED,{isAvailable:!0}),S.set(l.g.YELLOW_CARD_CANCELLED,{isAvailable:!0}),S.set(l.g.STANDBY_FOR_KICK_OFF,{isAvailable:!0}),S.set(l.g.POINT_INVESTIGATION,{isAvailable:!0});var _=function(){function t(t){this.eventsQueueService=t}return t.prototype.getCurrentEvent$=function(){return this.eventsQueueService.currentAnimatedEvent$},t.prototype.getStopSignal$=function(){return this.eventsQueueService.stopEventSignalObs$},t.prototype.setNewEvent=function(t){t&&S.has(t.type)&&this.eventsQueueService.setNewEvent(t)},t.prototype.changeAnimationState=function(t){this.eventsQueueService.animationsStateChanged(t)},t.\u0275fac=function(e){return new(e||t)(p.Vb(C.a))},t.\u0275prov=p.Hb({token:t,factory:t.\u0275fac}),t}(),A=n("PmRF"),w=n("K9Ia"),M=n("ny24"),T=n("wHPb"),k=function(){function t(t,e,n){this.footballService=t,this.renderer=n,this.timeForAnimation=400,this.EVENT_TYPE=l.g,this.previousBallPosition=0,this.currentBallPosition=0,this.previousIndent=0,this.pathPart=this.getInitialPathValue(),this.endOfAnimation$=new w.a,this.fieldWidth=this.footballService.footballFieldConfiguration.getFieldWidth(),this.fieldHeight=this.footballService.footballFieldConfiguration.getFieldHeight(),this.pathElement=e,this.previousBallPosition=this.fieldWidth/2,this.indentWidth=.05*this.fieldWidth}return t.prototype.getAnimationEndCallback$=function(){return this.endOfAnimation$.asObservable()},t.prototype.setEvent=function(t,e){this.gameEvent=t,this.currentBallPosition=t.type===this.EVENT_TYPE.SAFE_POSSESSION?this.fieldWidth/2:this.gameEvent.team===f.a.AWAY?this.fieldWidth-e.x:e.x},t.prototype.animate=function(){this.fullPathAnimation(this.gameEvent)},t.prototype.setFinalState=function(){this.pathPart=this.getFinalPathValueForEvent(this.gameEvent),this.saveState(this.currentBallPosition,this.indentWidth),this.render(),this.endOfAnimation$.next(T.a.SHOW_ENDED),this.endOfAnimation$.next(T.a.HIDE_ENDED)},t.prototype.stopAnimation=function(){this.currentRAF&&(cancelAnimationFrame(this.currentRAF),this.currentRAF=null,this.pathPart=this.getFinalPathValueForEvent(this.gameEvent),this.saveState(this.currentBallPosition,this.indentWidth),this.render()),this.endOfAnimation$.next(T.a.SHOW_ENDED),this.endOfAnimation$.next(T.a.HIDE_ENDED)},t.prototype.fullPathAnimation=function(t){var e=this,n=this.previousBallPosition,i=performance.now(),o=this.previousIndent,a=o,r=t.type===this.EVENT_TYPE.SAFE_POSSESSION?0:this.indentWidth,s=function(){var t=performance.now(),c=e.getDistanceDiff(i,t,e.previousBallPosition,e.currentBallPosition),l=e.getDistanceDiff(i,t,a,r);n+=c,c>0&&n>e.currentBallPosition&&(n=e.currentBallPosition),c<0&&n<e.currentBallPosition&&(n=e.currentBallPosition),(o+=l)>e.indentWidth&&(o=e.indentWidth),i=performance.now(),e.pathPart={l1:[n,0],q1:[n+o,e.fieldHeight/2,n+o,e.fieldHeight/2],q2:[n,e.fieldHeight,n,e.fieldHeight],l2:[e.fieldWidth/2,e.fieldHeight]},e.render(),(c>0?n<e.currentBallPosition:n>e.currentBallPosition)?e.currentRAF=requestAnimationFrame(s):(e.saveState(n,o),e.gameEvent.type===e.EVENT_TYPE.DANGEROUS_ATTACK||e.gameEvent.type===e.EVENT_TYPE.ATTACK?e.dngAttackShaking():(e.endOfAnimation$.next(T.a.SHOW_ENDED),e.endOfAnimation$.next(T.a.HIDE_ENDED)))};this.currentRAF=requestAnimationFrame(s)},t.prototype.dngAttackShaking=function(){var t=this,e=[(this.pathPart.q1[2]+this.pathPart.l1[0])/2,(this.pathPart.q1[3]+this.pathPart.l1[1])/2],n=[(this.pathPart.q2[2]+this.pathPart.q1[2])/2,(this.pathPart.q2[3]+this.pathPart.q1[3])/2],i=1,o=0,a=performance.now(),r=function(){var s=performance.now(),c=t.getDistanceDiff(a,s,0,7,90);(o+=c)>7&&(i++,o=0),i%2==1?(t.pathPart.q1=[e[0]+o,e[1]-o,t.pathPart.q1[2],t.pathPart.q1[3]],t.pathPart.q2=[n[0]+o,n[1]+o,t.pathPart.q2[2],t.pathPart.q2[3]]):(t.pathPart.q1=[e[0]-o,e[1]+o,t.pathPart.q1[2],t.pathPart.q1[3]],t.pathPart.q2=[n[0]-o,n[1]-o,t.pathPart.q2[2],t.pathPart.q2[3]]),t.render(),a=performance.now(),i<=4?t.currentRAF=requestAnimationFrame(r):(t.endOfAnimation$.next(T.a.SHOW_ENDED),t.endOfAnimation$.next(T.a.HIDE_ENDED))};this.currentRAF=requestAnimationFrame(r)},t.prototype.attackShaking=function(){var t=this,e=1,n=0,i=0,o=performance.now(),a=function(){var r=performance.now(),s=t.getDistanceDiff(o,r,0,4,300);(i+=n+=s)>4&&(e++,n=0,i=0),e%2==1?(t.pathPart.q1=[t.pathPart.q1[0]+n,t.pathPart.q1[1],t.pathPart.q1[2]+n,t.pathPart.q1[3]],t.pathPart.q2=[t.pathPart.q2[0],t.pathPart.q2[1],t.pathPart.q2[2],t.pathPart.q2[3]]):(t.pathPart.q1=[t.pathPart.q1[0]-n,t.pathPart.q1[1],t.pathPart.q1[2]-n,t.pathPart.q1[3]],t.pathPart.q2=[t.pathPart.q2[0],t.pathPart.q2[1],t.pathPart.q2[2],t.pathPart.q2[3]]),t.render(),o=performance.now(),e<=4?t.currentRAF=requestAnimationFrame(a):(t.endOfAnimation$.next(T.a.SHOW_ENDED),t.endOfAnimation$.next(T.a.HIDE_ENDED))};this.currentRAF=requestAnimationFrame(a)},t.prototype.render=function(){this.renderer.setAttribute(this.pathElement,"d","\n                        M "+this.fieldWidth/2+" 0\n                        L "+this.pathPart.l1[0]+" "+this.pathPart.l1[1]+"\n                        Q "+this.pathPart.q1[0]+" "+this.pathPart.q1[1]+" "+this.pathPart.q1[2]+" "+this.pathPart.q1[3]+"\n                        Q "+this.pathPart.q2[0]+" "+this.pathPart.q2[1]+" "+this.pathPart.q2[2]+" "+this.pathPart.q2[3]+"\n                        L "+this.pathPart.l2[0]+" "+this.pathPart.l2[1]+" z\n                    ")},t.prototype.getDistanceDiff=function(t,e,n,i,o){return(e-t)*(i-n)/(o||this.timeForAnimation)},t.prototype.getInitialPathValue=function(){return{l1:[this.fieldWidth/2,0],q1:[0,0,0,0],q2:[0,0,0,0],l2:[this.fieldWidth/2,this.fieldHeight]}},t.prototype.getFinalPathValueForEvent=function(t){var e=t.type===this.EVENT_TYPE.SAFE_POSSESSION?0:this.indentWidth;return{l1:[this.currentBallPosition,0],q1:[this.currentBallPosition+e,this.fieldHeight/2,this.currentBallPosition+e,this.fieldHeight/2],q2:[this.currentBallPosition,this.fieldHeight,this.currentBallPosition,this.fieldHeight],l2:[this.fieldWidth/2,this.fieldHeight]}},t.prototype.saveState=function(t,e){this.prevGameEvent=this.gameEvent,this.previousBallPosition=t,this.previousIndent=this.gameEvent.type===this.EVENT_TYPE.SAFE_POSSESSION?0:e},t}(),x=n("lvqX"),F=["path"],D=["app-attack-event",""],j=function(){function t(t,e,n){this.renderer=t,this.documentStateService=e,this.footballService=n,this.animationState$=new p.n,this.isAwayTeam=!1,this.destroyComponentSubject$=new w.a}return Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(t){this._event=t,this.isAwayTeam=this.event.team===f.a.AWAY,this.attackAnimation&&this.animateEvent(this.event,this.eventPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvent",{get:function(){return this._nextEvent},set:function(t){this._nextEvent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventPosition",{get:function(){return this._eventPosition},set:function(t){this._eventPosition=t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.destroyComponentSubject$.next(),this.destroyComponentSubject$.complete()},t.prototype.ngAfterViewInit=function(){var t=this;this.attackAnimation=new k(this.footballService,this.path.nativeElement,this.renderer),this.attackAnimation.getAnimationEndCallback$().pipe(Object(M.a)(this.destroyComponentSubject$)).subscribe((function(e){t.animationState$.emit(e)})),this.documentStateService.documentVisibilityChange$.pipe(Object(M.a)(this.destroyComponentSubject$)).subscribe((function(e){e&&t.attackAnimation.stopAnimation()})),this.animateEvent(this.event,this.eventPosition)},t.prototype.animateEvent=function(t,e){this.attackAnimation.setEvent(t,e),this.documentStateService.isDocumentHidden$.getValue()?this.attackAnimation.setFinalState():this.attackAnimation.animate()},t.\u0275fac=function(e){return new(e||t)(p.Lb(p.D),p.Lb(x.a),p.Lb(u))},t.\u0275cmp=p.Fb({type:t,selectors:[["svg","app-attack-event",""]],viewQuery:function(t,e){var n;1&t&&p.Cc(F,!0),2&t&&p.nc(n=p.ac())&&(e.path=n.first)},inputs:{event:"event",nextEvent:"nextEvent",eventPosition:"eventPosition"},outputs:{animationState$:"animationState$"},attrs:D,decls:3,vars:2,consts:[[1,"attack-path"],["path",""]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",0),p.Mb(1,"path",null,1),p.Qb()),2&t&&p.Cb("away",e.isAwayTeam)},styles:[".attack-path[_ngcontent-%COMP%]{transform:rotateY(0deg);fill:rgba(41,96,41,.6)}.attack-path.away[_ngcontent-%COMP%]{transform:rotateY(180deg);transform-origin:center}"],changeDetection:0}),t}(),R=n("2WDa"),H=n("rWE7"),N=["app-offside-event",""],I=function(t){return{transform:t}},L=function(){function t(t,e){this.footballService=t,this.changeDetectorRef=e,this.animationState$=new p.n,this.patternName=window.location.href+"#offsideFlag",this.borderSize=this.footballService.footballFieldConfiguration.getFieldBorderSize(),this.fieldPlayZoneHeight=this.footballService.footballFieldConfiguration.getFieldHeight()-2*this.borderSize}return Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(t){this._event=t,this.state=H.a.SHOW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvent",{get:function(){return this._nextEvent},set:function(t){this.state=H.a.LEAVE,this._nextEvent=t,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventPosition",{get:function(){return this._eventPosition},set:function(t){this._eventPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"teamClass",{get:function(){return this._teamClass},set:function(t){this._teamClass=t},enumerable:!0,configurable:!0}),t.prototype.animationEnds=function(t){t.toState===H.a.SHOW&&t&&this.animationState$.emit(T.a.SHOW_ENDED),t.toState===H.a.LEAVE&&this.animationState$.emit(T.a.HIDE_ENDED)},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(p.h))},t.\u0275cmp=p.Fb({type:t,selectors:[["svg","app-offside-event",""]],inputs:{event:"event",nextEvent:"nextEvent",eventPosition:"eventPosition",teamClass:"teamClass"},outputs:{animationState$:"animationState$"},attrs:N,decls:9,vars:7,consts:[[1,"offside-line-event",3,"ngStyle"],["id","offsideFlag","x","-4.7","y","-4.95","width","9.9","height","9.9","patternUnits","userSpaceOnUse"],["transform","matrix(1 -1 1 1 0 4.95)",1,"offside-flag-canvas"],["id","flag",1,"offside-flag"],["x1","0","y1","0px","x2","0px","y2","60px",1,"flag-line"],[1,"offside-flag-canvas"],["x1","0","x2","0",1,"offside-line"]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",0),p.Rb(1,"svg"),p.Rb(2,"defs"),p.Rb(3,"pattern",1),p.Mb(4,"rect",2),p.Qb(),p.Qb(),p.Rb(5,"g",3),p.Zb("@offsideAnimation.done",(function(t){return e.animationEnds(t)})),p.Mb(6,"line",4),p.Mb(7,"rect",5),p.Qb(),p.Mb(8,"line",6),p.Qb(),p.Qb()),2&t&&(p.jc("ngStyle",p.lc(5,I,"translate("+e.eventPosition.x+"px, 0px)")),p.zb(5),p.jc("@offsideAnimation",e.state),p.zb(2),p.Ab("fill","url("+e.patternName+")"),p.zb(1),p.Ab("y1",e.borderSize)("y2",e.fieldPlayZoneHeight+e.borderSize))},directives:[i.l],styles:[".offside-line[_ngcontent-%COMP%]{stroke:#fff;stroke-width:10px}.flag-line[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2px}.offside-flag[_ngcontent-%COMP%]{fill:#fff;width:100px;height:100px}.offside-flag[_ngcontent-%COMP%]   .offside-flag-canvas[_ngcontent-%COMP%]{width:35px;height:30px}#offsideFlag[_ngcontent-%COMP%]   .offside-flag-canvas[_ngcontent-%COMP%]{fill:#fff;width:4.95px;height:4.95px}"],data:{animation:[Object(R.p)("offsideAnimation",[Object(R.m)(H.a.SHOW,Object(R.n)({transform:"translate(60px, calc(83% - 60px)) scale(2) rotate(18deg)"})),Object(R.m)("*",Object(R.n)({transform:"translate(-60px, calc(83% - 60px)) scale(2) rotate(18deg)"})),Object(R.o)("* <=> "+H.a.SHOW,[Object(R.e)("0.5s")])])]},changeDetection:0}),t}(),W=function(t){return t.TOP="top",t.BOTTOM="bottom",t}({}),z=function(){function t(t){this.fieldConfiguration=t}return Object.defineProperty(t.prototype,"END_SHOT_OFF_BALL_POSITION",{get:function(){var t,e;return{top:(t={},t[f.b.HOME]={x:this.fieldConfiguration.getFieldWidth()+this.fieldConfiguration.getBallSize(),y:.5*this.fieldConfiguration.getFieldHeight()-75},t[f.b.AWAY]={x:0-this.fieldConfiguration.getBallSize(),y:.5*this.fieldConfiguration.getFieldHeight()-75},t),bottom:(e={},e[f.b.HOME]={x:this.fieldConfiguration.getFieldWidth()+this.fieldConfiguration.getBallSize(),y:.5*this.fieldConfiguration.getFieldHeight()+75},e[f.b.AWAY]={x:0-this.fieldConfiguration.getBallSize(),y:.5*this.fieldConfiguration.getFieldHeight()+75},e)}},enumerable:!0,configurable:!0}),t}(),$=["app-football-ball-element",""],V=function(){function t(){this.ballSize=32}return t.prototype.ngOnChanges=function(t){var e=t.size;e&&e.currentValue&&(this.ballSize=this.size)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Fb({type:t,selectors:[["","app-football-ball-element",""]],inputs:{size:"size"},features:[p.xb],attrs:$,decls:3,vars:4,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","preserveAspectRatio","xMidYMid meet"],["cx","16","cy","16","r","16"],["d","M27.3,4.7c-1.5-1.5-3.2-2.6-5.1-3.4C20.2,0.4,18.2,0,16,0s-4.2,0.4-6.2,1.3C7.9,2.1,6.1,3.2,4.7,4.7\n\tS2,7.9,1.3,9.8C0.4,11.8,0,13.8,0,16s0.4,4.2,1.3,6.2c0.8,1.9,1.9,3.6,3.4,5.1s3.2,2.6,5.1,3.4c2,0.8,4.1,1.3,6.2,1.3\n\ts4.2-0.4,6.2-1.3c1.9-0.8,3.6-1.9,5.1-3.4s2.6-3.2,3.4-5.1c0.8-2,1.3-4.1,1.3-6.2s-0.4-4.2-1.3-6.2C29.9,7.9,28.8,6.1,27.3,4.7z\n\t M7.1,3.6c0.1-0.1,0.3-0.2,0.4-0.3c0.8-0.6,1.6-1,2.5-1.3C11.9,1.1,14,0.7,16,0.7c1.3,0,2.7,0.2,4,0.5c-0.5,0.2-1.1,0.6-2.2,1.5\n\tc-0.9-0.1-1.8-0.1-2.6,0c-1.2,0.1-2.3,0.4-3.5,0.8c-1,0.4-1.9,0.8-2.4,1.1C8.4,4.3,7.4,4,6.8,3.8C6.9,3.8,7.1,3.6,7.1,3.6z\n\t M21.7,7.6L19,15.1l-6.6,1.3L7,10.7c0.3-2.6,2.1-4.8,2.1-4.8s1.2-0.8,3-1.5c1.1-0.4,2.2-0.6,3.2-0.7c0.9-0.1,1.8-0.1,2.6,0L21.7,7.6\n\tz M1.3,15.5c-0.2,1.1-0.2,2.2-0.1,3.3c-0.1-0.3-0.3-0.5-0.3-0.6c-0.1-0.7-0.1-1.4-0.1-2.2c0-2.2,0.5-4.4,1.4-6.3c-0.1,1,0,2,0,2.9\n\tC1.7,13.4,1.5,14.4,1.3,15.5z M2.6,21.3c-0.2-0.6-0.3-1.4-0.4-2.4c-0.1-1.1-0.1-2.2,0.1-3.3c0.1-0.8,0.3-1.6,0.6-2.4\n\tc1.1-1,2.6-1.5,3.4-1.7l5.3,5.5L11,23l-5.2,1.7C4.5,23.8,3.5,22.5,2.6,21.3z M18.5,30c-1.2,0.8-4.1,1-5.3,1\n\tc-1.3-0.3-2.6-0.6-3.8-1.3c-1-0.5-2-1.1-2.9-1.9c0,0-0.1-1.6-0.1-2.2l5.3-1.8l6.1,2.6L18.5,30L18.5,30z M28.5,24.7\n\tc-0.9,1.3-2,2.5-3.3,3.5c-1.2,0.9-2.9,1.2-4.3,1.4c-0.1,0-1.5,0.3-1.5,0.2l-0.8-3.5l4.3-4.5l5.7-0.5c0.1,0.9,0.2,2.2,0.3,3\n\tC28.7,24.4,28.6,24.6,28.5,24.7z M28.6,20.2c0,0,0,0.1,0,0.1L23,20.8l-3-5.3L22.7,8l3.9,0.3c0.8,0.7,1.6,1.5,2.2,2.3\n\tc0.8,1,1.4,2.2,1.8,3.4C30.1,17.6,29.1,19.5,28.6,20.2z M30.7,11.8c-0.3-0.6-0.7-1.3-1.2-1.9C28.8,9,28,8.1,27,7.4\n\tc-0.2-0.9-0.6-2.2-1.9-3.6c0,0,0,0,0.1,0c0.1,0,0.1,0.1,0.2,0.2c0.9,0.7,1.6,1.5,2.4,2.3C29.1,7.9,30.1,9.7,30.7,11.8\n\tC30.7,11.7,30.7,11.8,30.7,11.8z"]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"svg",0),p.Mb(1,"circle",1),p.Mb(2,"path",2),p.Qb()),2&t&&p.Ab("x",(0-e.ballSize)/2)("y",(0-e.ballSize)/2)("width",e.ballSize)("height",e.ballSize)},styles:["circle[_ngcontent-%COMP%]{fill:#fff}path[_ngcontent-%COMP%]{fill:#015e18}"],changeDetection:0}),t}(),Y=["ball"],B=["app-shot-off-target",""],G=function(t){return{transform:t}};function K(t,e){if(1&t&&(p.Pb(0),p.cc(),p.Rb(1,"g",1,2),p.Mb(3,"g",3),p.Qb(),p.Ob()),2&t){var n=p.dc();p.zb(1),p.jc("ngStyle",p.lc(2,G,"translate("+n.eventPosition.x+"px, "+n.eventPosition.y+"px)")),p.zb(2),p.jc("size",n.ballSize)}}var q=function(){function t(t,e,n){this.builder=t,this.changeDetectorRef=e,this.footballService=n,this.animationState$=new p.n,this.ballViewConfig={ballRadius:10,defaultScale:1,activeBallScale:1.2},this.isTeamOk=!0,this.keyframesAccuracy=60,this.fieldConfiguration=this.footballService.footballFieldConfiguration,this.shotOffTargetConfig=new z(this.fieldConfiguration),this.ballSize=this.fieldConfiguration.getBallSize()}return Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(t){this._event=t,this.state=H.a.SHOW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvent",{get:function(){return this._nextEvent},set:function(t){this.state=H.a.LEAVE,this._nextEvent=t,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventPosition",{get:function(){return this._eventPosition},set:function(t){this._eventPosition=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.event.team!==f.a.HOME&&this.event.team!==f.a.AWAY?(this.isTeamOk=!1,this.animationState$.emit(T.a.SHOW_ENDED),this.animationState$.emit(T.a.HIDE_ENDED)):this.createAnimation()},t.prototype.createAnimation=function(){var t=this,e=this.builder.build([Object(R.n)({transform:"translate("+this.eventPosition.x+"px, "+this.eventPosition.y+"px) scale("+this.ballViewConfig.defaultScale+")"}),this.customAnimate()]);this.player=e.create(this.elementRef.nativeElement),this.player.play(),this.player.onDone((function(){t.animationState$.emit(T.a.SHOW_ENDED),t.animationState$.emit(T.a.HIDE_ENDED)}))},t.prototype.customAnimate=function(){var t=this.getAnimationStyles(),e=this.getDistance()/this.fieldConfiguration.getFieldWidth()*2.5;return Object(R.e)(e+"s",Object(R.i)(t))},t.prototype.getDistance=function(){return Math.sqrt(Math.pow(this.eventPosition.x-this.endBallPoint.x,2)+Math.pow(this.eventPosition.y-this.endBallPoint.y,2))},t.prototype.getAnimationStyles=function(){var t=this;return this.team=this.footballService.footballEventsConfiguration.TEAM_CLASS[this.event.team],this.fieldPart=this.getFieldPart(),this.endBallPoint=this.shotOffTargetConfig.END_SHOT_OFF_BALL_POSITION[this.fieldPart][this.team],this.calculateKeyPoints().map((function(e,n){var i,o=n/t.keyframesAccuracy;return i=o<.45?t.ballViewConfig.defaultScale+t.ballViewConfig.activeBallScale*o:o>=.45&&o<.55?t.ballViewConfig.defaultScale+.45*t.ballViewConfig.activeBallScale:t.ballViewConfig.defaultScale+t.ballViewConfig.activeBallScale*(1-o),Object(R.n)({transform:"translate("+e.x+"px, "+e.y+"px) scale("+i+")",offset:o})}))},t.prototype.getFieldPart=function(){return this.eventPosition.y<=this.fieldConfiguration.getFieldHeight()/2?W.TOP:W.BOTTOM},t.prototype.calculateKeyPoints=function(){var t=[],e=this.prepareDataForKeyPoints(),n=1;this.fieldPart===W.TOP&&(n=-1);for(var i=Math.pow((this.endBallPoint.y-this.eventPosition.y)/n,2)/(e.xEndPoint-e.xStartPoint),o=Math.abs(this.endBallPoint.x-this.eventPosition.x)/this.keyframesAccuracy,a=0;a<=Math.abs(this.endBallPoint.x-this.eventPosition.x);a+=o){var r=e.xEndPoint<e.xStartPoint?-1:1,s=e.xStartPoint+r*a,c=e.yStartPoint+n*Math.sqrt(r*i*a);t.push({x:s,y:c})}return e.xStartPoint===this.eventPosition.x?t:t.reverse()},t.prototype.prepareDataForKeyPoints=function(){var t=this.shotOffTargetConfig.END_SHOT_OFF_BALL_POSITION;return this.eventPosition.y>=t.top.home.y&&this.eventPosition.y<=t.bottom.home.y?{xStartPoint:this.eventPosition.x,yStartPoint:this.eventPosition.y,xEndPoint:this.endBallPoint.x,yEndPoint:this.endBallPoint.y}:{xStartPoint:this.endBallPoint.x,yStartPoint:this.endBallPoint.y,xEndPoint:this.eventPosition.x,yEndPoint:this.eventPosition.y}},t.\u0275fac=function(e){return new(e||t)(p.Lb(R.b),p.Lb(p.h),p.Lb(u))},t.\u0275cmp=p.Fb({type:t,selectors:[["svg","app-shot-off-target",""]],viewQuery:function(t,e){var n;1&t&&p.Cc(Y,!0),2&t&&p.nc(n=p.ac())&&(e.elementRef=n.first)},inputs:{event:"event",nextEvent:"nextEvent",eventPosition:"eventPosition"},outputs:{animationState$:"animationState$"},attrs:B,decls:1,vars:1,consts:[[4,"ngIf"],[1,"football-ball",3,"ngStyle"],["ball",""],["app-football-ball-element","",3,"size"]],template:function(t,e){1&t&&p.uc(0,K,4,4,"ng-container",0),2&t&&p.jc("ngIf",e.isTeamOk)},directives:[i.k,i.l,V],styles:[".ball-bg[_ngcontent-%COMP%]{fill:#fff}.ball-grid[_ngcontent-%COMP%]{fill:#015e18}"],changeDetection:0}),t}(),Q=n("qWRl"),U=n("P+Ms"),X=function(){function t(t){this.fieldConfiguration=t}return Object.defineProperty(t.prototype,"GATE_POSITION",{get:function(){var t;return(t={})[f.a.HOME]={x:this.fieldConfiguration.getFieldWidth()-28,y:.5*this.fieldConfiguration.getFieldHeight()},t[f.a.AWAY]={x:28,y:.5*this.fieldConfiguration.getFieldHeight()},t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FINAL_POSITION",{get:function(){var t;return(t={})[f.a.HOME]={x:302,y:171},t[f.a.AWAY]={x:302,y:171},t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BALL_JUMPS_POINTS",{get:function(){var t;return(t={})[f.a.HOME]=[{x:.8*this.fieldConfiguration.getFieldWidth(),y:.35*this.fieldConfiguration.getFieldHeight(),time:600},{x:.6*this.fieldConfiguration.getFieldWidth(),y:.38*this.fieldConfiguration.getFieldHeight(),time:400},{x:.5*this.fieldConfiguration.getFieldWidth(),y:.4*this.fieldConfiguration.getFieldHeight(),time:200}],t[f.a.AWAY]=[{x:.2*this.fieldConfiguration.getFieldWidth(),y:.35*this.fieldConfiguration.getFieldHeight(),time:600},{x:.4*this.fieldConfiguration.getFieldWidth(),y:.38*this.fieldConfiguration.getFieldHeight(),time:400},{x:.5*this.fieldConfiguration.getFieldWidth(),y:.4*this.fieldConfiguration.getFieldHeight(),time:200}],t},enumerable:!0,configurable:!0}),t}(),Z=n("SzE6"),J=["glovesElement"],tt=["gloves"],et=["ball"],nt=["fireworks"],it=["app-shot-on-target",""];function ot(t,e){if(1&t&&(p.Pb(0),p.cc(),p.Rb(1,"g",null,1),p.Mb(3,"g",2),p.Qb(),p.Rb(4,"g",null,3),p.Mb(6,"g",4),p.Qb(),p.Rb(7,"g",5,6),p.Rb(9,"svg",7),p.Rb(10,"g",8),p.Mb(11,"path",9),p.Mb(12,"path",10),p.Mb(13,"path",11),p.Mb(14,"polygon",12),p.Mb(15,"polygon",13),p.Mb(16,"polygon",14),p.Mb(17,"polygon",15),p.Mb(18,"polygon",16),p.Mb(19,"polygon",17),p.Qb(),p.Qb(),p.Qb(),p.Ob()),2&t){var n=p.dc();p.zb(3),p.jc("size",n.elementsSizes.ball),p.zb(3),p.jc("width",n.elementsSizes.firework),p.zb(3),p.Ab("x",(0-n.elementsSizes.gloves)/2)("y",(0-.7*n.elementsSizes.gloves)/2)("width",n.elementsSizes.gloves)("height",.7*n.elementsSizes.gloves)}}var at=function(){function t(t,e,n){this.footballService=t,this.documentStateService=e,this.builder=n,this.animationState$=new p.n,this.isTeamOk=!0,this.ballTransitionToGateTime=800,this.glovesAnimationTime=800,this.destroyComponentSubject$=new w.a,this.shotOnTargetConfig=new X(this.footballService.footballFieldConfiguration),this.elementsSizes={ball:this.footballService.footballFieldConfiguration.getBallSize(),firework:this.footballService.footballFieldConfiguration.getFireworksSize(),gloves:2*this.footballService.footballFieldConfiguration.getBallSize()}}return Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(t){this._event=t;var e=this.shotOnTargetConfig.BALL_JUMPS_POINTS[this.event.team];e?(this.finalBallPosition=e[e.length-1],this.gatePosition=this.shotOnTargetConfig.GATE_POSITION[this.event.team]):this.isTeamOk=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvent",{get:function(){return this._nextEvent},set:function(t){this._nextEvent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventPosition",{get:function(){return this._eventPosition},set:function(t){this._eventPosition=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.documentStateService.documentVisibilityChange$.pipe(Object(M.a)(this.destroyComponentSubject$)).subscribe((function(e){e&&t.animationState$.emit(T.a.HIDE_ENDED)})),this.isTeamOk?this.runAnimation(this.eventPosition,this.gatePosition):(this.animationState$.emit(T.a.SHOW_ENDED),this.animationState$.emit(T.a.HIDE_ENDED))},t.prototype.ngOnDestroy=function(){this.destroyComponentSubject$.next(),this.destroyComponentSubject$.complete()},t.prototype.runAnimation=function(t,e){var n=this,i=new Q.a(this.builder,this.ball.nativeElement);i.createBallTransitionPlayer(t,e,this.ballTransitionToGateTime),i.patchTransitionWithFireworks(this.fireworks.nativeElement);var o=this.getGlovesPlayer(this.finalBallPosition,this.glovesAnimationTime);o.onDone((function(){n.animationState$.emit(T.a.SHOW_ENDED),n.animationState$.emit(T.a.HIDE_ENDED)}));var a=this.getPlayerForBallJumps(e);a[a.length-1].onDone((function(){o.play()})),i.addOnDonePlayerEvent(a[0]),i.play()},t.prototype.getPlayerForBallJumps=function(t){var e=this,n=[],i=this.shotOnTargetConfig.BALL_JUMPS_POINTS[this.event.team],o=.08*this.footballService.footballFieldConfiguration.getFieldHeight();return i.forEach((function(a,r){var s=0===r?t:i[r-1],c=e.getJumpTransitionPlayer({x:s.x,y:s.y},{x:a.x,y:a.y},a.time,o/(r+1));n.push(c)})),n.forEach((function(t,e){e<n.length-1&&t.onDone((function(){n[e+1].play()}))})),n},t.prototype.getJumpTransitionPlayer=function(t,e,n,i){for(var o=[],a=t.x-e.x,r=2*Math.PI/(2*a),s=0;s<31;s++){var c=s/30,l=Object(U.a)(0,a,c),f=Object(U.a)(t.x,e.x,c),h=Object(U.a)(t.y,e.y,c)-Math.sin(l*r)*i;o.push(Object(R.n)({transform:"translate("+f+"px, "+h+"px)"}))}return this.builder.build([Object(R.e)(n+"ms",Object(R.i)(o))]).create(this.ball.nativeElement)},t.prototype.getGlovesPlayer=function(t,e){return this.builder.build([Object(R.n)({display:"block",transform:"translate("+t.x+"px, "+t.y+"px)"}),Object(R.j)(".gloves",Object(R.e)(e+"ms",Object(R.i)([Object(R.n)({transform:"scale(1)",opacity:0,offset:0}),Object(R.n)({transform:"scale(1)",opacity:1,offset:.1}),Object(R.n)({transform:"scale(1.5)",offset:.4}),Object(R.n)({transform:"scale(0.7)",offset:.7}),Object(R.n)({transform:"scale(1)",offset:1})])))]).create(this.glovesElement.nativeElement)},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(x.a),p.Lb(R.b))},t.\u0275cmp=p.Fb({type:t,selectors:[["svg","app-shot-on-target",""]],viewQuery:function(t,e){var n;1&t&&(p.Cc(J,!0),p.Cc(tt,!0),p.Cc(et,!0),p.Cc(nt,!0)),2&t&&(p.nc(n=p.ac())&&(e.glovesElement=n.first),p.nc(n=p.ac())&&(e.gloves=n.first),p.nc(n=p.ac())&&(e.ball=n.first),p.nc(n=p.ac())&&(e.fireworks=n.first))},inputs:{event:"event",nextEvent:"nextEvent",eventPosition:"eventPosition"},outputs:{animationState$:"animationState$"},attrs:it,decls:1,vars:1,consts:[[4,"ngIf"],["ball",""],["app-football-ball-element","",3,"size"],["fireworks",""],["app-ball-fireworks","",3,"width"],[1,"gloves-wrapper"],["glovesElement",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 65.3 46"],[1,"gloves"],["d","M29.4,30.5c0-0.4,0.1-0.7,0.1-1l-0.9-0.9c0.1,0,0.1,0,0.1-0.1l2-2c-1.1-1-2.1-2-3-2.8L26,25.5\n\t\tc0,0.1,0,0.1-0.1,0.1l-1.5-1.5c0.1,0,0.1,0,0.1-0.1l1.8-1.9c-0.5-0.5-0.8-0.8-0.8-0.8c-0.8-0.8-1.3-1.9-1.3-2.9v0L21.7,21\n\t\tc0,0.1,0,0.1-0.1,0.1l-1.4-1.6c0.1,0,0.1,0,0.1,0L30.6,9.5c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2.1-0.8-2.8,0L17.6,16.6\n\t\tc0,0.1,0,0.1-0.1,0.1l-1.1-1.2c0.1,0,0.1,0,0.1-0.1l10.1-10c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2-0.8-2.8,0l-10.1,10\n\t\tc0,0,0,0.1-0.2,0.3l-8.7,8.6l-0.3,2.8L2.7,26l15.8,16.7l7.5-7.4h3.4l1.5-1.7l-0.2-0.2C29.9,32.6,29.4,31.5,29.4,30.5z",1,"gloves-outside"],["d","M61.4,22.8l-8.8-8.5c0-0.1,0-0.1-0.1-0.1L42.2,4.2c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9L49.6,17\n\t\tc0.1,0,0.1,0,0.1,0.1l-1.1,1.2c0-0.1,0-0.1-0.1-0.1L38.2,8.2c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9l10.3,10\n\t\tc0.1,0,0.1,0,0.1,0.1l-1.5,1.5c0-0.1,0-0.1-0.1-0.1L34,12.6c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9l10.2,10\n\t\tc0.1,0,0.1,0,0.1,0.1L40,27.1C40,27,40,27,40,27l-10.3-9.9c-0.8-0.8-2.1-0.8-2.9,0C26,18,26,19.3,26.8,20l10.3,10\n\t\tc0.1,0,0.1,0,0.1,0.1l-0.7,0.7l-1.8-1.7c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.8l4.8,4.6h3.4l7.4,7.2l16.1-16.4l-1.7-1.7\n\t\tL61.4,22.8z",1,"gloves-outside"],["d","M64.9,26c0,0-0.7-0.7-1.2-1.2c-0.1-0.8-0.3-2.2-0.3-2.2c0-0.5-0.3-0.9-0.6-1.2C56.4,15.2,50,9,43.6,2.8\n\t\tc-0.8-0.8-1.8-1.2-2.8-1.2c-1.1,0-2.2,0.5-2.9,1.3c-0.8,0.8-1.2,1.8-1.2,2.8c-1.1,0-2.1,0.5-2.8,1.3c-0.5,0.5-0.9,1.2-1.1,1.9\n\t\tc0-0.2,0-0.4,0-0.7c0-1.1-0.4-2.1-1.1-2.8C31,4.6,30,4.1,29,4.1C29,3,28.6,2,27.8,1.3C27.1,0.5,26,0,24.9,0s-2.1,0.8-2.8,1.6\n\t\tC15.7,7.8,9.3,14.1,3,20.3c-0.4,0.4-0.6,0.8-0.6,1.2c0,0-0.2,1.4-0.3,2.2c-0.5,0.5-1.2,1.2-1.2,1.2c-0.4,0.5-0.6,1-0.6,1.5\n\t\tc0,0.5,0.2,0.7,0.6,1.1l15.8,16.7c0.4,0.4,0.9,0.7,1.5,0.7s1.1-0.2,1.5-0.6c0,0,5.7-5.7,6.7-6.7c1,0,2.5,0,2.5,0\n\t\tc0.6,0,1.1-0.2,1.5-0.6l1.1-1.1c0.2-0.2,0.4-0.4,0.5-0.7l3.2,3.1c0.4,0.4,0.9,0.6,1.5,0.6c0,0,1.7,0,2.6,0c1,0.9,6.8,6.5,6.8,6.5\n\t\tc0.4,0.4,0.9,0.6,1.5,0.5c0.5,0,1.1-0.2,1.5-0.6l16-16.5c0.4-0.4,0.6-0.9,0.6-1.5c0,0,0,0,0,0C65.6,26.9,65.3,26.4,64.9,26z\n\t\t M29.4,35.2H26l-7.5,7.4L2.7,26l1.8-1.8l0.3-2.8l8.7-8.6c0.2-0.2,0.2-0.2,0.2-0.3l10.1-10c0.8-0.8,2.1-0.8,2.8,0\n\t\tc0.8,0.8,0.8,2.1,0,2.9l-10.1,10c0,0-0.1,0-0.1,0.1l1.1,1.2c0,0,0-0.1,0.1-0.1L27.8,6.5c0.8-0.8,2.1-0.8,2.8,0\n\t\tc0.8,0.8,0.8,2.1,0,2.9L20.4,19.6c0,0-0.1,0-0.1,0l1.4,1.6c0,0,0-0.1,0.1-0.1l2.6-2.6v0c0,1.1,0.5,2.1,1.3,2.9c0,0,0.3,0.3,0.8,0.8\n\t\tl-1.8,1.9c0,0-0.1,0-0.1,0.1l1.5,1.5c0,0,0-0.1,0.1-0.1l1.9-1.9c0.9,0.8,1.9,1.8,3,2.8l-2,2c0,0-0.1,0-0.1,0.1l0.9,0.9\n\t\tc-0.1,0.3-0.1,0.7-0.1,1c0,1.1,0.4,2.1,1.3,2.9l0.2,0.2L29.4,35.2z M47.5,43.7l-7.4-7.2h-3.4l-4.8-4.6c-0.8-0.8-0.8-2.1,0-2.8\n\t\tc0.8-0.8,2.1-0.8,2.9,0l1.8,1.7l0.7-0.7c0,0-0.1,0-0.1-0.1L26.8,20c-0.8-0.8-0.8-2.1,0-2.9c0.8-0.8,2.1-0.8,2.9,0L40,27\n\t\tc0,0,0,0.1,0.1,0.1l1.5-1.5c0,0-0.1,0-0.1-0.1l-10.2-10c-0.8-0.8-0.8-2.1,0-2.9c0.8-0.8,2.1-0.8,2.9,0l10.3,9.9c0,0,0,0.1,0.1,0.1\n\t\tl1.5-1.5c0,0-0.1,0-0.1-0.1l-10.3-10c-0.8-0.8-0.8-2.1,0-2.9c0.8-0.8,2.1-0.8,2.9,0l10.3,9.9c0,0,0,0.1,0.1,0.1l1.1-1.2\n\t\tc0,0-0.1,0-0.1-0.1L39.3,7.1c-0.8-0.8-0.8-2.1,0-2.9c0.8-0.8,2.1-0.8,2.9,0l10.3,9.9c0,0,0,0.1,0.1,0.1l8.8,8.5l0.4,2.8l1.7,1.7\n\t\tL47.5,43.7z",1,"gloves-inside"],["points","17.1,29.8 19,31.8 21.9,28.9 20,27 ",1,"gloves-inside"],["points","16.3,23 13.5,25.8 15.3,27.8 18.2,25 ",1,"gloves-inside"],["points","12.5,19 9.7,21.9 11.6,23.9 14.4,21 ",1,"gloves-inside"],["points","51.5,22.6 54.5,25.4 56.4,23.4 53.5,20.6 ",1,"gloves-inside"],["points","47.8,26.5 50.7,29.3 52.6,27.3 49.7,24.5 ",1,"gloves-inside"],["points","44,30.4 46.9,33.1 48.8,31.2 45.9,28.4 ",1,"gloves-inside"]],template:function(t,e){1&t&&p.uc(0,ot,20,6,"ng-container",0),2&t&&p.jc("ngIf",e.isTeamOk)},directives:[i.k,V,Z.a],styles:[".gloves-wrapper[_ngcontent-%COMP%]{display:none}.gloves-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{overflow:visible}.gloves[_ngcontent-%COMP%]{opacity:1;transform-origin:33px 23px}.gloves-outside[_ngcontent-%COMP%]{fill:#fff}.gloves-inside[_ngcontent-%COMP%]{fill:#e53836}"],changeDetection:0}),t}(),rt=function(){function t(t){this.fieldConfiguration=t}return Object.defineProperty(t.prototype,"GOAL_END_POSITION",{get:function(){var t;return(t={})[f.a.HOME]={x:this.fieldConfiguration.getFieldWidth()-this.fieldConfiguration.getFieldBorderSize(),y:.5*this.fieldConfiguration.getFieldHeight()},t[f.a.AWAY]={x:this.fieldConfiguration.getFieldBorderSize(),y:.5*this.fieldConfiguration.getFieldHeight()},t},enumerable:!0,configurable:!0}),t}(),st=["ball"],ct=["fireworks"],lt=["app-goal-event",""],ft=function(){function t(t,e,n,i){this.footballService=t,this.documentStateService=e,this.renderer=n,this.builder=i,this.animationState$=new p.n,this.ballTransitionTime=800,this.destroyComponentSubject$=new w.a,this.isViewInit=!1,this.goalEventConfig=new rt(this.footballService.footballFieldConfiguration),this.elementsSizes={ball:this.footballService.footballFieldConfiguration.getBallSize(),firework:this.footballService.footballFieldConfiguration.getFireworksSize()}}return Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(t){this._event=t,this.finalBallPosition=this.goalEventConfig.GOAL_END_POSITION[this.event.team]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvent",{get:function(){return this._nextEvent},set:function(t){this._nextEvent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventPosition",{get:function(){return this._eventPosition},set:function(t){this._eventPosition=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.isViewInit=!0,this.documentStateService.isDocumentHidden$.getValue()&&this.animationState$.emit(T.a.SHOW_ENDED),this.documentStateService.documentVisibilityChange$.pipe(Object(M.a)(this.destroyComponentSubject$)).subscribe((function(e){e&&t.animationState$.emit(T.a.HIDE_ENDED)})),this.runAnimation(this.eventPosition,this.finalBallPosition)},t.prototype.ngOnDestroy=function(){this.destroyComponentSubject$.next(),this.destroyComponentSubject$.complete()},t.prototype.runAnimation=function(t,e){var n=this,i=new Q.a(this.builder,this.ball.nativeElement);i.createBallTransitionPlayer(t,e,this.ballTransitionTime),i.patchTransitionWithFireworks(this.fireworks.nativeElement);var o=i.getJumpsPlayer();o.onDone((function(){n.animationState$.emit(T.a.SHOW_ENDED),n.animationState$.emit(T.a.HIDE_ENDED)})),i.addOnDonePlayerEvent(o),i.play()},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(x.a),p.Lb(p.D),p.Lb(R.b))},t.\u0275cmp=p.Fb({type:t,selectors:[["svg","app-goal-event",""]],viewQuery:function(t,e){var n;1&t&&(p.Cc(st,!0),p.Cc(ct,!0)),2&t&&(p.nc(n=p.ac())&&(e.ball=n.first),p.nc(n=p.ac())&&(e.fireworks=n.first))},inputs:{event:"event",nextEvent:"nextEvent",eventPosition:"eventPosition"},outputs:{animationState$:"animationState$"},attrs:lt,decls:6,vars:2,consts:[["ball",""],["app-football-ball-element","",3,"size"],["fireworks",""],["app-ball-fireworks","",3,"width"]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",null,0),p.Mb(2,"g",1),p.Qb(),p.Rb(3,"g",null,2),p.Mb(5,"g",3),p.Qb()),2&t&&(p.zb(2),p.jc("size",e.elementsSizes.ball),p.zb(3),p.jc("width",e.elementsSizes.firework))},directives:[V,Z.a],styles:["@-webkit-keyframes throwEventFireworks{0%{stroke-dashoffset:30}30%{stroke-dashoffset:0;transform:scaleX(1)}to{stroke-dashoffset:-30;transform:scaleX(2)}}@keyframes throwEventFireworks{0%{stroke-dashoffset:30}30%{stroke-dashoffset:0;transform:scaleX(1)}to{stroke-dashoffset:-30;transform:scaleX(2)}}"],changeDetection:0}),t}(),ht=n("cW1y"),gt=n("gOq7"),pt=n("bne5"),ut=n("VnD/"),bt=["progress"],dt=["app-football-ball",""],mt=function(t){return{transform:t}},vt=function(){function t(t,e){this.footballService=t,this.changeDetectorRef=e,this.animationLeaveEnd$=new p.n,this.TEAMS=f.a,this.ballSize=64,this.destroyComponentSubject$=new w.a}return t.prototype.ngOnChanges=function(t){var e=t.state,n=t.event;e&&e.currentValue===H.a.SHOW&&(this.ballState=this.state),n&&n.currentValue&&(this.teamColor=this.footballService.getShirtColorForTeam(this.event.team))},t.prototype.ngAfterViewInit=function(){var t=this;Object(pt.a)(this.progress.nativeElement,"animationiteration").pipe(Object(ut.a)((function(){return t.state===H.a.LEAVE})),Object(M.a)(this.destroyComponentSubject$)).subscribe((function(e){t.ballState=H.a.LEAVE,t.changeDetectorRef.markForCheck()}))},t.prototype.ngOnDestroy=function(){this.destroyComponentSubject$.next(),this.destroyComponentSubject$.complete()},t.prototype.animationLeaveEnd=function(t){this.ballState===H.a.LEAVE&&this.animationLeaveEnd$.emit(T.a.HIDE_ENDED),this.ballState===H.a.SHOW&&"done"===t.phaseName&&this.animationLeaveEnd$.emit(T.a.SHOW_ENDED)},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(p.h))},t.\u0275cmp=p.Fb({type:t,selectors:[["","app-football-ball",""]],viewQuery:function(t,e){var n;1&t&&p.Cc(bt,!0),2&t&&p.nc(n=p.ac())&&(e.progress=n.first)},inputs:{state:"state",event:"event",eventPosition:"eventPosition"},outputs:{animationLeaveEnd$:"animationLeaveEnd$"},features:[p.xb],attrs:dt,decls:7,vars:12,consts:[[3,"ngStyle"],[1,"ball"],["app-football-ball-element","",3,"size"],[1,"event-progress"],[1,"progress-fon"],[1,"progress"],["progress",""]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",0),p.Zb("@footballBallAnimation.done",(function(t){return e.animationLeaveEnd(t)})),p.Rb(1,"g",1),p.Mb(2,"g",2),p.Qb(),p.Rb(3,"g",3),p.Mb(4,"circle",4),p.Mb(5,"circle",5,6),p.Qb(),p.Qb()),2&t&&(p.jc("ngStyle",p.lc(10,mt,"translate("+e.eventPosition.x+"px, "+e.eventPosition.y+"px)"))("@footballBallAnimation",e.ballState),p.zb(1),p.jc("@ballIcon",e.ballState),p.zb(1),p.jc("size",e.ballSize),p.zb(2),p.jc("@progressFon",e.ballState),p.Ab("r",e.ballSize/2),p.zb(1),p.tc("stroke",e.teamColor),p.jc("@progress",e.ballState),p.Ab("r",e.ballSize/2))},directives:[i.l,V],styles:[".event-progress[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-fon[_ngcontent-%COMP%]{opacity:0;stroke:#fff;stroke-width:6;fill:none}.progress[_ngcontent-%COMP%]{opacity:0;stroke-dasharray:200;stroke-dashoffset:200;stroke-width:6;fill:none}.ball-bg[_ngcontent-%COMP%]{fill:#fff}.ball-grid[_ngcontent-%COMP%]{fill:#015e18}@-webkit-keyframes pulsingBall{0%{transform:scale(.6)}50%{transform:scale(.8)}to{transform:scale(.6)}}@keyframes pulsingBall{0%{transform:scale(.6)}50%{transform:scale(.8)}to{transform:scale(.6)}}@-webkit-keyframes progress{0%{stroke-dashoffset:600}50%{stroke-dashoffset:400}to{stroke-dashoffset:200}}@keyframes progress{0%{stroke-dashoffset:600}50%{stroke-dashoffset:400}to{stroke-dashoffset:200}}"],data:{animation:[Object(R.p)("footballBallAnimation",[Object(R.o)("* <=> "+H.a.SHOW,Object(R.h)([Object(R.j)("@ballIcon",Object(R.f)()),Object(R.j)("@progressFon",Object(R.f)()),Object(R.j)("@progress",Object(R.f)())]))]),Object(R.p)("ballIcon",[Object(R.m)(H.a.SHOW,Object(R.n)({opacity:1,animation:"pulsingBall linear 1s infinite alternate"})),Object(R.m)("*",Object(R.n)({opacity:0,transform:"scale(0.4)"})),Object(R.o)("* => "+H.a.SHOW,[Object(R.n)({opacity:0,transform:"scale(0.4)"}),Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:1,transform:"scale(0.7)"})]))]),Object(R.o)("* => "+H.a.LEAVE,[Object(R.n)({opacity:1,transform:"scale(0.7)"}),Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:0,transform:"scale(0.4)"})]))])]),Object(R.p)("progressFon",[Object(R.m)(H.a.SHOW,Object(R.n)({opacity:.6})),Object(R.m)("*",Object(R.n)({opacity:0})),Object(R.o)("* => "+H.a.SHOW,[Object(R.n)({opacity:0}),Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:.6})]))]),Object(R.o)("* => "+H.a.LEAVE,[Object(R.n)({opacity:.6}),Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:0})]))])]),Object(R.p)("progress",[Object(R.m)(H.a.SHOW,Object(R.n)({opacity:1,animation:"2s linear infinite normal none running progress"})),Object(R.m)("*",Object(R.n)({opacity:0})),Object(R.o)("* => "+H.a.SHOW,[Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:1})]))]),Object(R.o)("* => "+H.a.LEAVE,[Object(R.e)("0.5s",Object(R.i)([Object(R.n)({opacity:0})]))])])]},changeDetection:0}),t}(),Ot=["app-ball-element",""];function yt(t,e){1&t&&(p.cc(),p.Rb(0,"g",4),p.Mb(1,"path",5),p.Mb(2,"path",6),p.Qb())}function Et(t,e){if(1&t){var n=p.Sb();p.cc(),p.Rb(0,"svg",7),p.Zb("animationLeaveEnd$",(function(t){return p.oc(n),p.dc().ballAnimationLeaveEnd(t)})),p.Qb()}if(2&t){var i=p.dc();p.jc("state",i.state)("event",i.event)("eventPosition",i.eventPositionInput)}}var Pt=function(t){return{transform:t}},Ct=function(){function t(t,e){this.footballService=t,this.documentStateService=e,this.animationState$=new p.n,this.AnimationState=H.a,this.GAME_EVENT=l.g,this.destroySubject$=new w.a}return t.prototype.ngOnChanges=function(t){var e=t.event,n=t.nextEvent,i=t.eventPositionInput;i&&i.currentValue&&(this.eventPosition={x:this.eventPositionInput.x?this.eventPositionInput.x:0,y:this.eventPositionInput.y?this.eventPositionInput.y:0}),e&&e.currentValue&&(this.state=H.a.SHOW,this.gameEventType=this.event.type),n&&n.currentValue&&(!e||e&&n.currentValue!==e.currentValue)&&(this.state=H.a.LEAVE),this.eventPositionDgr=this.getEventRotationDgr(this.eventPosition,this.event.type,this.team)},t.prototype.ngOnInit=function(){var t=this;this.documentStateService.isDocumentHidden$.getValue()&&this.animationState$.emit(T.a.HIDE_ENDED),this.documentStateService.documentVisibilityChange$.pipe(Object(M.a)(this.destroySubject$.asObservable())).subscribe((function(e){e&&t.animationState$.emit(T.a.HIDE_ENDED)}))},t.prototype.ngOnDestroy=function(){this.destroySubject$.next(),this.destroySubject$.complete()},t.prototype.ballAnimationLeaveEnd=function(t){this.animationState$.emit(t)},t.prototype.getEventRotationDgr=function(t,e,n){var i=t.x,o=t.y,a=this.footballService.footballFieldConfiguration,r=n===f.a.HOME?a.getFieldWidth()-a.getFieldBorderSize():a.getFieldBorderSize(),s=.5*a.getFieldHeight(),c=Math.atan((s-o)/(r-i))/Math.PI*180;return n!==f.a.AWAY||e!==l.g.GOAL_KICK&&e!==l.g.FREE_KICK_ZONE&&e!==l.g.DANGEROUS_FREE_KICK_ZONE&&e!==l.g.THROW_ZONE&&e!==l.g.PENALTY||(c-=180),e===l.g.CORNER&&(n===f.a.HOME&&(c=o>=.5*a.getFieldHeight()?-120:120),n===f.a.AWAY&&(c=o>=.5*a.getFieldHeight()?-60:60)),e===l.g.PENALTY&&(n===f.a.HOME&&(c=0),n===f.a.AWAY&&(c=180)),c},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(x.a))},t.\u0275cmp=p.Fb({type:t,selectors:[["","app-ball-element",""]],inputs:{eventPositionInput:"eventPositionInput",team:"team",event:"event",nextEvent:"nextEvent"},outputs:{animationState$:"animationState$"},features:[p.xb],attrs:Ot,decls:4,vars:5,consts:[[1,"ball-wrapper",3,"ngStyle"],["class","kick",4,"ngIf"],[1,"ball-wrapper"],["app-football-ball","",3,"state","event","eventPosition","animationLeaveEnd$",4,"ngIf"],[1,"kick"],["d","M12.3,0c0,6-1.4,11.7-4,16.8l240.9,66.3c6.6-26.6,10.1-54.4,10.1-83.1s-3.5-56.5-10.1-83.1L8.4-16.8  C10.9-11.7,12.3-6,12.3,0z",1,"kick-large"],["d","M13.9,0.1c0,5.2-1.2,10-3.4,14.4l127.2,35c4.8-15.7,7.3-32.3,7.3-49.4s-2.5-33.7-7.2-49.4l-127.2,35  C12.7-10,13.9-5.1,13.9,0.1z",1,"kick-middle"],["app-football-ball","",3,"state","event","eventPosition","animationLeaveEnd$"]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",0),p.uc(1,yt,3,0,"g",1),p.Qb(),p.Rb(2,"g",2),p.uc(3,Et,1,3,"svg",3),p.Qb()),2&t&&(p.jc("ngStyle",p.lc(3,Pt,"translate("+e.eventPosition.x+"px, "+e.eventPosition.y+"px) rotate("+e.eventPositionDgr+"deg)")),p.zb(1),p.jc("ngIf",e.state===e.AnimationState.SHOW&&(e.gameEventType===e.GAME_EVENT.FREE_KICK_ZONE||e.gameEventType===e.GAME_EVENT.DANGEROUS_FREE_KICK_ZONE||e.gameEventType===e.GAME_EVENT.GOAL_KICK||e.gameEventType===e.GAME_EVENT.THROW_ZONE||e.gameEventType===e.GAME_EVENT.PENALTY||e.gameEventType===e.GAME_EVENT.CORNER)),p.zb(2),p.jc("ngIf",e.state&&e.event.type!==e.GAME_EVENT.SHOT_OFF_TARGET))},directives:[i.l,i.k,vt],styles:[".kick-middle[_ngcontent-%COMP%]{opacity:0;fill:#fff;-webkit-animation:kick-middle 2s forwards;animation:kick-middle 2s forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.kick-large[_ngcontent-%COMP%]{opacity:0;fill:#fff;-webkit-animation:kick-large 2s forwards;animation:kick-large 2s forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes kick-middle{0%{transform:scaleX(0) scaleY(0);opacity:0}20%{transform:scaleX(0) scaleY(0);opacity:0}50%{transform:scaleX(1) scaleY(1);opacity:.1}75%{transform:scaleX(1) scaleY(1);opacity:.1}to{transform:scaleX(1) scaleY(1);opacity:0}}@keyframes kick-middle{0%{transform:scaleX(0) scaleY(0);opacity:0}20%{transform:scaleX(0) scaleY(0);opacity:0}50%{transform:scaleX(1) scaleY(1);opacity:.1}75%{transform:scaleX(1) scaleY(1);opacity:.1}to{transform:scaleX(1) scaleY(1);opacity:0}}@-webkit-keyframes kick-large{0%{transform:scaleX(0) scaleY(0);opacity:0}25%{transform:scaleX(1) scaleY(1);opacity:.157875}50%{transform:scaleX(1) scaleY(1);opacity:.157875}75%{transform:scaleX(1) scaleY(1);opacity:.157875}to{transform:scaleX(1) scaleY(1);opacity:0}}@keyframes kick-large{0%{transform:scaleX(0) scaleY(0);opacity:0}25%{transform:scaleX(1) scaleY(1);opacity:.157875}50%{transform:scaleX(1) scaleY(1);opacity:.157875}75%{transform:scaleX(1) scaleY(1);opacity:.157875}to{transform:scaleX(1) scaleY(1);opacity:0}}"],changeDetection:0}),t}(),St=["eventComponent"],_t=["fieldEventComponent"],At=["app-football-field-zone",""];function wt(t,e){if(1&t&&(p.cc(),p.Mb(0,"g",32)),2&t){var n=p.dc();p.jc("ballPoint",n.ballPoint)("teamInput",n.event.team)("teamColor",n.teamColor)}}function Mt(t,e){if(1&t){var n=p.Sb();p.cc(),p.Rb(0,"g",33),p.Zb("animationState$",(function(t){return p.oc(n),p.dc().animationEnds(t)})),p.Qb()}if(2&t){var i=p.dc();p.jc("event",i.event)("nextEvent",i.nextEvent)("eventPositionInput",i.eventPosition)("team",i.event.team)}}var Tt=function(t,e){return[t,e]},kt=function(){function t(t,e,n,i){this.footballService=t,this.footballTimerService=e,this.componentFactoryResolver=n,this.translationService=i,this.animationState=new p.n,this.ballPoint=null,this.eventClass="",this.teamClass="",this.teamColor="",this.isAttack=!1,this.isPreviousAttack=!1,this.needToShowBallPosition=!1,this.isRTL=!1,this.footballEventsConfig=h,this.destroySubject$=new w.a,this.destroyChildComponentSubject$=new w.a,this.fieldConfig=this.footballService.footballFieldConfiguration,this.eventsConfig=this.footballService.footballEventsConfiguration,this.timer$=this.footballTimerService.getTimer$(),this.isRTL=this.translationService.isRTLMode()}return t.prototype.ngOnChanges=function(t){var e=this,n=t.event,i=t.nextEvent;if(n&&n.currentValue){if(this.needToShowBallPosition=!1,this.isPreviousAttack=this.isAttack,this.isAttack=!1,(n.previousValue&&this.event.team!==n.previousValue.team||!this.event.ballPosition.valid||!this.isAttack)&&this.clearBallsOnField(),this.setDataForView(),this.event.team===f.a.NONE)return this.animationEnds(T.a.SHOW_ENDED),void this.animationEnds(T.a.HIDE_ENDED);this.isAttack=this.isEventWithPass(),this.eventPosition=this.getBallPositionForCurrentEvent(),this.isAttack&&this.event.ballPosition.valid&&(this.needToShowBallPosition=!0,this.addBall(this.event.ballPosition)),this.eventWithPendingBall()&&(this.needToShowBallPosition=!0),!this.componentRef||this.isAttack&&this.isPreviousAttack&&n.previousValue.team===n.currentValue.team||(this.componentRef.destroy(),this.eventComponent.clear(),this.destroyChildComponentSubject$.next()),this.hasAnimation()?this.isAttack&&this.isPreviousAttack&&n.previousValue.team===n.currentValue.team?(this.componentRef.instance.eventPosition=this.eventPosition,this.componentRef.instance.event=n.currentValue):this.eventWithPendingBall()?(this.animationEnds(T.a.SHOW_ENDED),this.animationEnds(T.a.HIDE_ENDED)):this.setComponentRef()?(this.componentRef.instance.eventPosition=this.eventPosition,this.componentRef.instance.event=n.currentValue,this.componentRef.instance.teamClass=this.teamClass,this.componentRef.instance.animationState$.pipe(Object(M.a)(this.destroyChildComponentSubject$)).subscribe((function(t){e.animationEnds(t)}))):(console.log("Unknown event"),this.animationEnds(T.a.SHOW_ENDED),this.animationEnds(T.a.HIDE_ENDED)):(this.animationEnds(T.a.SHOW_ENDED),this.animationEnds(T.a.HIDE_ENDED))}this.componentRef&&i&&i.currentValue&&(this.componentRef.instance.nextEvent=i.currentValue)},t.prototype.ngOnDestroy=function(){this.destroySubject$.next(),this.destroySubject$.complete(),this.destroyChildComponentSubject$.next(),this.destroyChildComponentSubject$.complete(),this.componentRef&&this.componentRef.destroy()},t.prototype.animationEnds=function(t){this.animationState.emit(t)},t.prototype.setComponentRef=function(){var t,e,n;return this.isAttack&&(t=j,n=this.fieldEventComponent),this.event.type===l.g.OFFSIDE&&(t=L,n=this.eventComponent),this.event.type===l.g.SHOT_OFF_TARGET&&(t=q,n=this.eventComponent),this.event.type!==l.g.SHOT_ON_TARGET&&this.event.type!==l.g.PENALTY_MISSED||(t=at,n=this.eventComponent),this.event.type===l.g.GOAL&&(t=ft,n=this.eventComponent),e=this.componentFactoryResolver.resolveComponentFactory(t),this.componentRef=n.createComponent(e),!!e},t.prototype.setDataForView=function(){this.eventClass=this.footballEventsConfig.EVENT_CLASS[this.event.type]||"",this.teamClass=this.eventsConfig.TEAM_CLASS[this.event.team]||"",this.teamColor=this.footballService.getShirtColorForTeam(this.event.team)},t.prototype.getBallPositionForCurrentEvent=function(){if(this.event.ballPosition.valid){var t=this.ballPositionAdjustmentForSpecialEvents(this.event.ballPosition,this.event);return this.patchPositionAccordingToField(t)}var e=this.eventsConfig.DEFAULT_BALL_POSITION[this.event.type];return this.patchPositionAccordingToField(e&&e[this.event.team]?e[this.event.team]:{x:.5,y:.5})},t.prototype.patchPositionAccordingToField=function(t){return this.fieldConfig.getPositionWithoutBorder(t.x,t.y)},t.prototype.addBall=function(t){this.ballPoint=this.patchPositionAccordingToField({x:t.ballPositionX,y:t.ballPositionY})},t.prototype.clearBallsOnField=function(){this.ballPoint=null},t.prototype.isEventWithPass=function(){return this.event.type===l.g.ATTACK||this.event.type===l.g.DANGEROUS_ATTACK||this.event.type===l.g.TAKE_ON_ATTACK||this.event.type===l.g.TAKE_ON_DANGEROUS_ATTACK||this.event.type===l.g.TAKE_ON_SAFE_POSSESSION||this.event.type===l.g.SAFE_POSSESSION},t.prototype.eventWithPendingBall=function(){return this.event.type===l.g.FREE_KICK_ZONE||this.event.type===l.g.DANGEROUS_FREE_KICK_ZONE||this.event.type===l.g.PENALTY||this.event.type===l.g.THROW_ZONE||this.event.type===l.g.GOAL_KICK||this.event.type===l.g.CORNER},t.prototype.hasAnimation=function(){return this.event.type===l.g.OFFSIDE||this.event.type===l.g.GOAL||this.event.type===l.g.SHOT_OFF_TARGET||this.event.type===l.g.SHOT_ON_TARGET||this.event.type===l.g.PENALTY_MISSED||this.isEventWithPass()||this.eventWithPendingBall()},t.prototype.ballPositionAdjustmentForSpecialEvents=function(t,e){if(e.type===l.g.CORNER){if(e.team===f.a.HOME)return t.ballPositionY>=.5?{x:1,y:1}:{x:1,y:0};if(e.team===f.a.AWAY)return t.ballPositionY>=.5?{x:0,y:1}:{x:0,y:0}}if(e.type===l.g.PENALTY){if(e.team===f.a.HOME)return{x:.92,y:.5};if(e.team===f.a.AWAY)return{x:.08,y:.5}}return{x:t.ballPositionX,y:t.ballPositionY}},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(v),p.Lb(p.j),p.Lb(g.a))},t.\u0275cmp=p.Fb({type:t,selectors:[["","app-football-field-zone",""]],viewQuery:function(t,e){var n;1&t&&(p.sc(St,!0,p.N),p.sc(_t,!0,p.N)),2&t&&(p.nc(n=p.ac())&&(e.eventComponent=n.first),p.nc(n=p.ac())&&(e.fieldEventComponent=n.first))},inputs:{event:"event",nextEvent:"nextEvent"},outputs:{animationState:"animationState"},features:[p.xb],attrs:At,decls:35,vars:13,consts:[[1,"field",3,"ngClass"],[1,"field-bg"],["width","1700","height","852",1,"bg-rect"],["x","140.8","y","1","width","142","height","850",1,"bg-line-dark"],["x","424.3","y","1","width","142","height","850",1,"bg-line-dark"],["x","1559.3","y","1","width","140","height","850",1,"bg-line-dark"],["x","707.8","y","1","width","142","height","850",1,"bg-line-dark"],["x","991.3","y","1","width","142","height","850",1,"bg-line-dark"],["x","1274.8","y","1","width","142","height","850",1,"bg-line-dark"],["x","849.5","y","1","width","142","height","850",1,"bg-line-light"],["x","1133","y","1","width","142","height","850",1,"bg-line-light"],["x","1416.5","y","1","width","142","height","850",1,"bg-line-light"],["x","282.5","y","1","width","142","height","850",1,"bg-line-light"],["x","566","y","1","width","142","height","850",1,"bg-line-light"],["y","1","width","140","height","850",1,"bg-line-light"],[1,"teams-zones"],["width","850","height","852",1,"home-zone"],["d","M1451.9,198.4v145c-24.9,18.9-41,48.9-41,82.6s16.1,63.6,41,82.6v145h187.4V198.4H1451.9z",1,"home-goal"],["width","850","x","50%","height","852",1,"away-zone"],["d","M1451.9,198.4v145c-24.9,18.9-41,48.9-41,82.6s16.1,63.6,41,82.6v145h187.4V198.4H1451.9z",1,"away-goal"],["fieldEventComponent",""],[1,"layout"],["cx","186.6","cy","426","rx","5","ry","5"],["d","M1516.8,421c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S1519.6,421,1516.8,421z"],["d","M0,0v852h1700V0H0z M844.5,426.4c0,2.4,1.4,4.6,3.5,5.7v186.8c-105.3-1.1-190.8-87.2-190.8-192.6  S742.7,234.8,848,233.7v187C845.9,421.8,844.5,424,844.5,426.4z M651.3,426.4c0,108.7,88.1,197.5,196.8,198.6v162.1H65.9V655.4  h186.3V509.7c26-20.3,40.8-50.7,40.8-83.5c0-32.9-14.9-63.4-40.9-83.6V196.8H65.9V64.9H848v162.9  C739.4,228.9,651.3,317.7,651.3,426.4z M246.2,649.5H65.9V532.7h62.2V319.5H65.9V202.8h180.3V649.5z M252.1,501.9V350.3  c22.2,19.1,34.8,46.5,34.8,75.8C286.9,455.5,274.2,482.9,252.1,501.9z M65.9,526.6V325.5h56.2v201.2H65.9z M37.8,464.8v-77.2h21.8  v77.2H37.8z M848,58.9H59.9v138h-0.3v184.6H31.8v89.2h27.8v184.6h0.3v137.7H848V846H6V6h842V58.9z M1661.6,387.4v77.2h-21.5v-77.2  H1661.6z M1633.8,325.5v201.2h-56.5V325.5H1633.8z M1633.9,319.5h-62.5v213.2h62.5v116.7h-180.6V202.8h180.6V319.5z M1447.3,501.9  c-22.2-19.1-34.8-46.5-34.8-75.8c0-29.4,12.7-56.8,34.8-75.8V501.9z M1634.1,196.8h-186.9v145.8c-26,20.3-40.8,50.7-40.8,83.5  c0,32.9,14.9,63.3,40.8,83.5v145.8h186.9v131.7H854V625c51.9-1,100.6-21.9,137.3-59c37.1-37.5,57.5-87,57.5-139.6  c0-52.5-20.4-102.1-57.5-139.5c-36.7-37.1-85.4-58-137.3-59.1v-163h780.1V196.8z M857.5,426.5c0-2.4-1.4-4.6-3.5-5.7V234  c104.2,2.1,188.8,88.2,188.8,192.6c0,104.3-84.5,190.4-188.8,192.6v-187C856.1,431.1,857.5,428.9,857.5,426.5z M854,793.1h786.1  V470.7h27.5v-89.2h-27.5V58.9H854V6h840v840H854V793.1z"],["d","M293.5,426c0-32.9-14.9-63.4-40.8-83.8V196.4h-0.1v0H59.1v0v459.4v0h193.5v0h0.1V510c26-20.4,40.8-50.9,40.8-83.8  C293.5,426.2,293.5,426.1,293.5,426C293.5,426.1,293.5,426.1,293.5,426z M245.9,506.2l-0.2,0.1v0.8V649H66.4V203.3h179.3v141.9v0.8  l0.2,0.1c25.5,17.4,40.8,47.3,40.9,80.1C286.7,458.9,271.4,488.8,245.9,506.2z",1,"home-goal-line"],["d","M293.5,426c0-32.9-14.9-63.4-40.8-83.8V196.4h-0.1v0H59.1v0v459.4v0h193.5v0h0.1V510c26-20.4,40.8-50.9,40.8-83.8  C293.5,426.2,293.5,426.1,293.5,426C293.5,426.1,293.5,426.1,293.5,426z M245.9,506.2l-0.2,0.1v0.8V649H66.4V203.3h179.3v141.9v0.8  l0.2,0.1c25.5,17.4,40.8,47.3,40.9,80.1C286.7,458.9,271.4,488.8,245.9,506.2z",1,"away-goal-line"],["app-ball-pass","",3,"ballPoint","teamInput","teamColor",4,"ngIf"],["app-ball-element","",3,"event","nextEvent","eventPositionInput","team","animationState$",4,"ngIf"],[1,"events"],["eventComponent",""],["app-field-timer","",1,"timer","football",3,"timer"],["app-ball-pass","",3,"ballPoint","teamInput","teamColor"],["app-ball-element","",3,"event","nextEvent","eventPositionInput","team","animationState$"]],template:function(t,e){1&t&&(p.cc(),p.Rb(0,"g",0),p.Rb(1,"g",1),p.Mb(2,"rect",2),p.Mb(3,"rect",3),p.Mb(4,"rect",4),p.Mb(5,"rect",5),p.Mb(6,"rect",6),p.Mb(7,"rect",7),p.Mb(8,"rect",8),p.Mb(9,"rect",9),p.Mb(10,"rect",10),p.Mb(11,"rect",11),p.Mb(12,"rect",12),p.Mb(13,"rect",13),p.Mb(14,"rect",14),p.Qb(),p.Rb(15,"g",15),p.Mb(16,"rect",16),p.Mb(17,"path",17),p.Mb(18,"rect",18),p.Mb(19,"path",19),p.Qb(),p.Nb(20,null,20),p.Rb(22,"g",21),p.Mb(23,"ellipse",22),p.Mb(24,"path",23),p.Mb(25,"path",24),p.Mb(26,"path",25),p.Mb(27,"path",26),p.Qb(),p.uc(28,wt,1,3,"g",27),p.uc(29,Mt,1,4,"g",28),p.Qb(),p.Rb(30,"g",29),p.Nb(31,null,30),p.Qb(),p.Mb(33,"g",31),p.ec(34,"async")),2&t&&(p.Cb("rtl",e.isRTL),p.jc("ngClass",p.mc(10,Tt,e.eventClass,e.teamClass)),p.zb(28),p.jc("ngIf",e.ballPoint),p.zb(1),p.jc("ngIf",e.needToShowBallPosition&&!e.isAttack),p.zb(1),p.Cb("rtl",e.isRTL),p.zb(3),p.jc("timer",p.fc(34,8,e.timer$)))},directives:[i.i,i.k,ht.a,gt.a,Ct],pipes:[i.b],styles:[".events.rtl[_ngcontent-%COMP%], .field.rtl[_ngcontent-%COMP%]{transform-origin:center;transform:rotateY(180deg)}.field-bg[_ngcontent-%COMP%]   .bg-rect[_ngcontent-%COMP%]{fill:#388e3c}.field-bg[_ngcontent-%COMP%]   .bg-line-dark[_ngcontent-%COMP%]{fill:#43a047;opacity:.4}.field-bg[_ngcontent-%COMP%]   .bg-line-light[_ngcontent-%COMP%]{fill:#43a047}.teams-zones[_ngcontent-%COMP%]   .away-goal[_ngcontent-%COMP%], .teams-zones[_ngcontent-%COMP%]   .away-zone[_ngcontent-%COMP%], .teams-zones[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%], .teams-zones[_ngcontent-%COMP%]   .home-zone[_ngcontent-%COMP%]{fill:transparent}.teams-zones[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%]{transform:rotateY(180deg);transform-origin:center}.layout[_ngcontent-%COMP%]   ellipse[_ngcontent-%COMP%], .layout[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#8cc490}.layout[_ngcontent-%COMP%]   .away-goal-line[_ngcontent-%COMP%]{transform:rotateY(180deg);transform-origin:center}.timer[_ngcontent-%COMP%]{transform:translate(50%)}.away[_ngcontent-%COMP%]   .away-zone[_ngcontent-%COMP%], .free-kick.home[_ngcontent-%COMP%]   .away-goal[_ngcontent-%COMP%], .goal[_ngcontent-%COMP%]   .away-zone[_ngcontent-%COMP%], .goal[_ngcontent-%COMP%]   .home-zone[_ngcontent-%COMP%], .goal.home[_ngcontent-%COMP%]   .away-goal[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .home-zone[_ngcontent-%COMP%], .none[_ngcontent-%COMP%]   .away-zone[_ngcontent-%COMP%], .none[_ngcontent-%COMP%]   .home-zone[_ngcontent-%COMP%], .penalty-missed.home[_ngcontent-%COMP%]   .away-goal[_ngcontent-%COMP%], .shot-off.home[_ngcontent-%COMP%]   .away-goal[_ngcontent-%COMP%]{fill:rgba(41,96,41,.6);-webkit-animation:zoneFill .5s;animation:zoneFill .5s}.free-kick.home[_ngcontent-%COMP%]   .away-goal-line[_ngcontent-%COMP%], .goal.home[_ngcontent-%COMP%]   .away-goal-line[_ngcontent-%COMP%], .penalty-missed.home[_ngcontent-%COMP%]   .away-goal-line[_ngcontent-%COMP%], .shot-off.home[_ngcontent-%COMP%]   .away-goal-line[_ngcontent-%COMP%]{fill:#fff}.free-kick.away[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%], .goal.away[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%], .penalty-missed.away[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%], .shot-off.away[_ngcontent-%COMP%]   .home-goal[_ngcontent-%COMP%]{fill:rgba(41,96,41,.6);-webkit-animation:zoneFill .5s;animation:zoneFill .5s}.free-kick.away[_ngcontent-%COMP%]   .home-goal-line[_ngcontent-%COMP%], .goal.away[_ngcontent-%COMP%]   .home-goal-line[_ngcontent-%COMP%], .penalty-missed.away[_ngcontent-%COMP%]   .home-goal-line[_ngcontent-%COMP%], .shot-off.away[_ngcontent-%COMP%]   .home-goal-line[_ngcontent-%COMP%]{fill:#fff}@-webkit-keyframes zoneFill{0%{fill:transparent}to{fill:rgba(41,96,41,.6)}}@keyframes zoneFill{0%{fill:transparent}to{fill:rgba(41,96,41,.6)}}"],changeDetection:0}),t}(),xt=n("V1l8"),Ft=n("Qm9a"),Dt=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.cdr=e,o.vcr=n,o.cfr=i,o}return Object(s.b)(e,t),e.prototype.getTextComponentForEvent=function(t){return Ft.a},e.prototype.isEventNotUnique=function(t){return t===l.g.SAFE_POSSESSION||t===l.g.ATTACK||t===l.g.DANGEROUS_ATTACK||t===l.g.TAKE_ON_ATTACK||t===l.g.TAKE_ON_DANGEROUS_ATTACK||t===l.g.TAKE_ON_SAFE_POSSESSION},e.\u0275fac=function(t){return new(t||e)(p.Lb(p.h),p.Lb(p.N),p.Lb(p.j))},e.\u0275dir=p.Gb({type:e,selectors:[["","appFootballEventText",""]],features:[p.wb]}),e}(xt.a),jt=function(t){function e(e){var n=t.call(this)||this;n.footballService=e;var i=n.footballService.footballFieldConfiguration;return n.fieldSize={width:i.getFieldWidth(),height:i.getFieldHeight()},n.fieldPaddingProportion=n.fieldSize.height/n.fieldSize.width*100,n}return Object(s.b)(e,t),e.\u0275fac=function(t){return new(t||e)(p.Lb(u))},e.\u0275cmp=p.Fb({type:e,selectors:[["app-football-field"]],features:[p.wb],decls:5,vars:9,consts:[[1,"field-container"],["id","svg","xmlns","http://www.w3.org/2000/svg"],["app-football-field-zone","",3,"event","nextEvent","animationState"],["appFootballEventText","",1,"event-text",3,"event","stopEvent","animationState"]],template:function(t,e){1&t&&(p.Rb(0,"div",0),p.cc(),p.Rb(1,"svg",1),p.Rb(2,"g",2),p.Zb("animationState",(function(t){return e.fieldAnimationStateChanged(t)})),p.Qb(),p.Qb(),p.bc(),p.Rb(3,"div",3),p.Zb("animationState",(function(t){return e.textAnimationStateChanged(t)})),p.ec(4,"async"),p.Qb(),p.Qb()),2&t&&(p.tc("padding-top",e.fieldPaddingProportion,"%"),p.zb(1),p.Ab("viewBox","0 0 "+e.fieldSize.width+" "+e.fieldSize.height),p.zb(1),p.jc("event",e.event)("nextEvent",e.nextEvent),p.zb(1),p.jc("event",e.event)("stopEvent",p.fc(4,7,e.hideCurrentTextEvent$)))},directives:[kt,Dt],pipes:[i.b],styles:[".field-container[_ngcontent-%COMP%]{position:relative}#svg[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:100%;height:100%}"],changeDetection:0}),e}(A.a),Rt=n("G0Pk"),Ht=function(){function t(t,e){this.footballService=t,this.footballStatisticService=e}return t.prototype.ngOnInit=function(){this.teams=this.footballService.getTeamsData(),this.score$=this.footballStatisticService.getCurrentScore$()},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(P))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-football-header"]],decls:2,vars:4,consts:[["color","#388e3d",1,"football-header",3,"score","teams"]],template:function(t,e){1&t&&(p.Mb(0,"app-default-header",0),p.ec(1,"async")),2&t&&p.jc("score",p.fc(1,2,e.score$))("teams",e.teams)},directives:[Rt.a],pipes:[i.b],styles:[".football-header[_ngcontent-%COMP%]{display:block;background-color:#388e3d}"],changeDetection:0}),t}(),Nt=function(){function t(){}return Object.defineProperty(t,"EVENT_ICON",{get:function(){var t;return(t={})[l.l.GOALS]="./../../../../../../assets/images/icons/goal.svg",t[l.l.YELLOW_CARDS]="./../../../../../../assets/images/icons/yellow-card.svg",t[l.l.RED_CARDS]="./../../../../../../assets/images/icons/red-card.svg",t[l.l.CORNERS]="./../../../../../../assets/images/icons/corner-kick.svg",t[l.l.PENALTIES]="./../../../../../../assets/images/icons/penalty.svg",t},enumerable:!0,configurable:!0}),t}();function It(t,e){if(1&t&&(p.Rb(0,"th",5),p.Mb(1,"img",6),p.Qb()),2&t){var n=e.$implicit,i=p.dc(2);p.zb(1),p.jc("src",i.footballStatisticConfig.EVENT_ICON[n.scope],p.qc)}}function Lt(t,e){if(1&t&&(p.Rb(0,"td"),p.wc(1),p.Qb()),2&t){var n=e.$implicit;p.zb(1),p.xc(n.value.home)}}function Wt(t,e){if(1&t&&(p.Rb(0,"td"),p.wc(1),p.Qb()),2&t){var n=e.$implicit;p.zb(1),p.xc(n.value.away)}}function zt(t,e){if(1&t&&(p.Rb(0,"table"),p.Rb(1,"thead"),p.Rb(2,"tr"),p.Mb(3,"th"),p.uc(4,It,2,1,"th",1),p.Qb(),p.Qb(),p.Rb(5,"tbody"),p.Rb(6,"tr"),p.Rb(7,"td",2),p.Rb(8,"div",3),p.wc(9),p.Qb(),p.Qb(),p.uc(10,Lt,2,1,"td",4),p.Qb(),p.Rb(11,"tr"),p.Rb(12,"td",2),p.Rb(13,"div",3),p.wc(14),p.Qb(),p.Qb(),p.uc(15,Wt,2,1,"td",4),p.Qb(),p.Qb(),p.Qb()),2&t){var n=e.ngIf,i=p.dc();p.zb(4),p.jc("ngForOf",n),p.zb(5),p.xc(null==i.teams||null==i.teams.home?null:i.teams.home.name),p.zb(1),p.jc("ngForOf",n),p.zb(4),p.xc(null==i.teams||null==i.teams.away?null:i.teams.away.name),p.zb(1),p.jc("ngForOf",n)}}var $t=function(){function t(t,e){this.footballService=t,this.footballStatisticService=e,this.asIsOrder=U.b,this.footballStatisticConfig=Nt}return t.prototype.ngOnInit=function(){this.teams=this.footballService.getTeamsData(),this.statistic$=this.footballStatisticService.getStatistic$()},t.\u0275fac=function(e){return new(e||t)(p.Lb(u),p.Lb(P))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-football-statistic"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","event-icon",4,"ngFor","ngForOf"],[1,"team-name"],[1,"name-wrapper"],[4,"ngFor","ngForOf"],[1,"event-icon"],[3,"src"]],template:function(t,e){1&t&&(p.uc(0,zt,16,5,"table",0),p.ec(1,"async")),2&t&&p.jc("ngIf",p.fc(1,1,e.statistic$))},directives:[i.k,i.j],pipes:[i.b],styles:["[_nghost-%COMP%]{box-sizing:border-box;height:70px;padding:5px;background-color:#f9f9f9;display:block}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;table-layout:fixed}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:inherit;height:20px;vertical-align:middle}table[_ngcontent-%COMP%]   th.event-icon[_ngcontent-%COMP%]{width:50px}@media screen and (max-width:400px){table[_ngcontent-%COMP%]   th.event-icon[_ngcontent-%COMP%]{width:25px}}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;height:20px;vertical-align:middle}table[_ngcontent-%COMP%]   td.team-name[_ngcontent-%COMP%]{text-align:left;padding-left:8px}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:15px}.name-wrapper[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:pre;line-height:20px;text-align:start}"],changeDetection:0}),t}();function Vt(t,e){1&t&&p.Mb(0,"app-football-header")}function Yt(t,e){1&t&&p.Mb(0,"app-football-statistic")}function Bt(t,e){if(1&t){var n=p.Sb();p.Pb(0),p.uc(1,Vt,1,0,"app-football-header",0),p.Rb(2,"app-football-field",1),p.Zb("animationState$",(function(t){return p.oc(n),p.dc().animationsStateChanged(t)})),p.ec(3,"async"),p.ec(4,"async"),p.Qb(),p.uc(5,Yt,1,0,"app-football-statistic",0),p.Ob()}if(2&t){var i=p.dc();p.zb(1),p.jc("ngIf",i.config.team_names),p.zb(1),p.jc("event",p.fc(3,4,i.currentAnimatedEvent$))("nextEvent",p.fc(4,6,i.stopEventSignalObs$)),p.zb(3),p.jc("ngIf",i.config.statistic)}}var Gt=function(){function t(t,e,n,i,o,a,r){this.streamingService=t,this.footballService=e,this.footballTimerService=n,this.footballStatisticService=i,this.footballEventsService=o,this.configService=a,this.changeDetectorRef=r,this.snapshotWasSet=!1}return t.prototype.ngOnInit=function(){this.currentAnimatedEvent$=this.footballEventsService.getCurrentEvent$(),this.stopEventSignalObs$=this.footballEventsService.getStopSignal$(),this.config=this.configService.getCurrentConfig(),this.streamingData$=this.streamingService.getMatchData$,this.initialize()},t.prototype.animationsStateChanged=function(t){this.footballEventsService.changeAnimationState(t)},t.prototype.initialize=function(){var t=this;this.streamingData$.subscribe((function(e){e.snapshot&&(t.setSnapshotData(e.snapshot),t.snapshotWasSet=!0),e.timer&&t.footballTimerService.updateTimer(e.timer),e.statItem&&t.footballStatisticService.updateStatistic(e.statItem),e.gameEvent&&t.footballEventsService.setNewEvent(e.gameEvent),t.changeDetectorRef.detectChanges()}))},t.prototype.setSnapshotData=function(t){this.footballService.setTeamsInfo(t.matchInfo.teamsMap,t.properties),this.footballStatisticService.generateStatistic(t.statistic),this.footballTimerService.updateTimer(t.timer),this.footballEventsService.setNewEvent(t.gameEvent)},t.\u0275fac=function(e){return new(e||t)(p.Lb(b.a),p.Lb(u),p.Lb(v),p.Lb(P),p.Lb(_),p.Lb(d.a),p.Lb(p.h))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-football"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"event","nextEvent","animationState$"]],template:function(t,e){1&t&&p.uc(0,Bt,6,8,"ng-container",0),2&t&&p.jc("ngIf",e.snapshotWasSet)},directives:[i.k,jt,Ht,$t],pipes:[i.b],styles:[""],changeDetection:0}),t}(),Kt=n("90fk"),qt=n("2VUc"),Qt=n("34qh"),Ut=n("0t3s"),Xt=n("jXtw"),Zt=n("WsNk"),Jt=n("T5xJ"),te=function(){function t(t){this.footballService=t}return t.prototype.getTextForEvent=function(t){return this.footballService.footballEventsConfiguration.EVENT_MESSAGE[t.type]||""},t.prototype.getTeams=function(){return this.footballService.getTeamsData()},t.prototype.getShirtColorForTeam=function(t){return this.footballService.getShirtColorForTeam(t)},t.prototype.getSubTextForEvent=function(t){return""},t.prototype.getIconComponentForEvent=function(t){switch(t){case l.g.YELLOW_CARD:return qt.a;case l.g.RED_CARD:return Qt.a;case l.g.INJURY:case l.g.INJURY_TIME:return r.c;case l.g.SUBSTITUTION:return Ut.a;case l.g.KICK_OFF:case l.g.EXTRA_TIME1:case l.g.EXTRA_TIME2:case l.g.PENALTY_SHOOT_OUT:return Jt.a;case l.g.END_OF_HALF:return r.b;case l.g.END_OF_FULL_TIME:return r.a;case l.g.SHOT_OFF_TARGET:return Xt.a;case l.g.VIDEO_REFEREE_REVIEWING_RED_CARD:case l.g.VIDEO_REFEREE_REVIEWING_GOAL:case l.g.VIDEO_REFEREE_REVIEWING_PENALTY:case l.g.VIDEO_REFEREE_IN_PROGRESS:case l.g.REPLAY_POSSESSION:case l.g.REPLAY_GOAL:case l.g.REPLAY_PENALTY:case l.g.REPLAY_TRIGGER:return Zt.a;case l.g.END_OF_EXTRA_TIME:return r.a;default:return null}},t.prototype.getTextDelay=function(t){return null},t.\u0275fac=function(e){return new(e||t)(p.Vb(u))},t.\u0275prov=p.Hb({token:t,factory:t.\u0275fac}),t}(),ee=function(){function t(t){this.componentFactoryResolver=t}return t.prototype.resolveComponent=function(){return this.componentFactoryResolver.resolveComponentFactory(Gt)},t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({factory:function(e){return new(e||t)(p.Vb(p.j))},providers:[u,v,P,_,{provide:Kt.a,useClass:te}],imports:[[i.c,o.a,a.a]]}),t}()},qWRl:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2WDa"),o=n("P+Ms"),a=function(){function t(t,e){this.builder=t,this.ballElement=e,this.config={transitionTime:800,fireworkTime:500,fireworkDelay:.4}}return t.prototype.play=function(){this.ballTransitionPlayer.play()},t.prototype.destroy=function(){this.ballTransitionPlayer.destroy()},t.prototype.addOnStartPlayerEvent=function(t){this.ballTransitionPlayer.onStart((function(){t.play()}))},t.prototype.addOnDonePlayerEvent=function(t){this.ballTransitionPlayer.onDone((function(){t.play()}))},t.prototype.addOnDoneEvent=function(t){this.ballTransitionPlayer.onDone((function(){t()}))},t.prototype.createBallTransitionPlayer=function(t,e,n,a){this.startPoint=t,this.endPoint=e,this.config.transitionTime=n;var r=Object(o.a)(t.x,e.x,.5),s=Object(o.a)(t.y,e.y,.5),c=[{transform:"translate("+t.x+"px, "+t.y+"px) scale(1)"},{transform:"translate("+r+"px, "+s+"px) scale(1.5)"},{transform:"translate("+e.x+"px, "+e.y+"px) scale(1)"}];a&&this.patchStyles(c,a);var l=this.builder.build([Object(i.e)(n+"ms",Object(i.i)([Object(i.n)(c[0]),Object(i.n)(c[1]),Object(i.n)(c[2])]))]);this.ballTransitionPlayer=l.create(this.ballElement)},t.prototype.patchTransitionWithFireworks=function(t,e,n){if(void 0===e&&(e=this.config.fireworkTime),void 0===n&&(n=this.config.fireworkDelay),this.ballTransitionPlayer){this.config.fireworkTime=e,this.config.fireworkDelay=n;var i=this.fireworkPlayer(this.startPoint,this.endPoint,t);this.addOnStartPlayerEvent(i)}else console.warn("Ball player doesnt exist.")},t.prototype.getJumpsPlayer=function(){return this.builder.build([Object(i.e)("400ms",Object(i.i)([Object(i.n)({transform:"translate("+this.endPoint.x+"px, "+this.endPoint.y+"px) scale(1)"}),Object(i.n)({transform:"translate("+this.endPoint.x+"px, "+this.endPoint.y+"px) scale(1.1)"}),Object(i.n)({transform:"translate("+this.endPoint.x+"px, "+this.endPoint.y+"px) scale(1)"})]))]).create(this.ballElement)},t.prototype.fireworkPlayer=function(t,e,n){var a=Object(o.a)(t.x,e.x,.2),r=Object(o.a)(t.y,e.y,.2),s=180*this.getAngleBetweenVectors([{x:a,y:r},{x:a+10,y:r}],[{x:a,y:r},{x:e.x,y:e.y}])/Math.PI;return this.builder.build([Object(i.n)({transform:"translate("+a+"px, "+r+"px) rotate("+s+"deg)"}),Object(i.j)(".light",[Object(i.n)({strokeDashoffset:30,transform:"scaleX(1)"}),Object(i.e)(this.config.fireworkTime+"ms "+this.config.fireworkDelay*this.config.transitionTime+"ms",Object(i.i)([Object(i.n)({strokeDashoffset:30,offset:.1}),Object(i.n)({strokeDashoffset:0,transform:"scaleX(1)",offset:.3}),Object(i.n)({strokeDashoffset:-30,transform:"scaleX(2)",offset:1})]))])]).create(n)},t.prototype.getAngleBetweenVectors=function(t,e){var n,i,o,a,r=function(t,e){return{x:e.x-t.x,y:e.y-t.y}};return o=function(t,e){return t.x*e.x+t.y*e.y}(n=r(t[0],t[1]),i=r(e[0],e[1])),a=function(t,e){return t.x*e.y-t.y*e.x}(n,i),Math.atan2(a,o)},t.prototype.patchStyles=function(t,e){t.forEach((function(t,n){t.transform+=" "+e[n].transform}))},t}()}}]);